(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},1990:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>o.a,__next_app__:()=>f,originalPathname:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c}),n(2779),n(808),n(7857);var r=n(6126),l=n(1947),i=n(8952),o=n.n(i),a=n(6971),s={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>a[e]);n.d(t,s);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,2779)),"/home/alex/nexusaisearch.com/ui/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,8287))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(n.bind(n,808)),"/home/alex/nexusaisearch.com/ui/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,7857,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,8287))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/home/alex/nexusaisearch.com/ui/app/page.tsx"],d="/page",f={require:n,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9258:(e,t,n)=>{Promise.resolve().then(n.bind(n,5167))},5167:(e,t,n)=>{"use strict";let r,l;n.d(t,{default:()=>ol});var i,o,a=n(6496),s=n(7364),c=n.t(s,2),u=n(315),d=n(9303);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,d.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),p=(0,d.Z)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),m=(0,d.Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);var h=n(9599);let v=({messages:e})=>{let[t,n]=(0,s.useState)(""),[r,l]=(0,s.useState)("");return(0,s.useEffect)(()=>{e.length>0&&(n(e[0].content.length>20?`${e[0].content.substring(0,20).trim()}...`:e[0].content),l((0,h.t)(new Date,e[0].createdAt)))},[e]),(0,s.useEffect)(()=>{let t=setInterval(()=>{e.length>0&&l((0,h.t)(new Date,e[0].createdAt))},1e3);return()=>clearInterval(t)},[]),(0,a.jsxs)("div",{className:"fixed z-40 top-0 left-0 right-0 px-4 lg:pl-[104px] lg:pr-6 lg:px-8 flex flex-row items-center justify-between w-full py-4 text-sm text-white/70 border-b bg-[#0A0A0A] border-[#1C1C1C]",children:[a.jsx(u.Z,{size:17,className:"active:scale-95 transition duration-100 cursor-pointer lg:hidden"}),(0,a.jsxs)("div",{className:"hidden lg:flex flex-row items-center justify-center space-x-2",children:[a.jsx(f,{size:17}),(0,a.jsxs)("p",{className:"text-xs",children:[r," ago"]})]}),a.jsx("p",{className:"hidden lg:flex",children:t}),(0,a.jsxs)("div",{className:"flex flex-row items-center space-x-4",children:[a.jsx(p,{size:17,className:"active:scale-95 transition duration-100 cursor-pointer"}),a.jsx(m,{size:17,className:"text-red-400 active:scale-95 transition duration-100 cursor-pointer"})]})]})},g=(0,d.Z)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);function x(){return(x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var y=function(e,t){if("function"==typeof e){e(t);return}e.current=t};let w=function(e,t){var n=(0,s.useRef)();return(0,s.useCallback)(function(r){e.current=r,n.current&&y(n.current,null),n.current=t,t&&y(t,r)},[t])};var b=function(){},E=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],k=s.forwardRef(function(e,t){e.cacheMeasurements,e.maxRows,e.minRows;var n=e.onChange;e.onHeightChange;var r=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,E);r.value;var l=w(s.useRef(null),t);return s.useRef(0),s.useRef(),s.createElement("textarea",x({},r,{onChange:void 0===n?b:n,ref:l}))});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let C=(0,d.Z)("CopyPlus",[["line",{x1:"15",x2:"15",y1:"12",y2:"18",key:"1p7wdc"}],["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),j=(0,d.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),S=(0,d.Z)("SwatchBook",[["path",{d:"M11 17a4 4 0 0 1-8 0V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2Z",key:"1ldrpk"}],["path",{d:"M16.7 13H19a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H7",key:"11i5po"}],["path",{d:"M 7 17h0.01",key:"10821z"}],["path",{d:"m11 8 2.3-2.3a2.4 2.4 0 0 1 3.404.004L18.6 7.6a2.4 2.4 0 0 1 .026 3.434L9.9 19.8",key:"o2gii7"}]]),N=(0,d.Z)("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),M=(0,d.Z)("BadgePercent",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]]),P=(0,d.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),T=(0,d.Z)("ScanEye",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M5 12s2.5-5 7-5 7 5 7 5-2.5 5-7 5-7-5-7-5",key:"nhuolu"}]]),L=e=>{var t;return null!==(t=null==e?void 0:e.ownerDocument)&&void 0!==t?t:document},R=e=>e&&"window"in e&&e.window===e?e:L(e).defaultView||window,I=null,F=new Set,A=new Map,O=!1,z=!1,_={Tab:!0,Escape:!0};function D(e,t){for(let n of F)n(e,t)}function H(e){var t,n;O=!0,!(e.metaKey||(t=/^Mac/i,!("undefined"!=typeof window&&null!=window.navigator&&t.test((null===(n=window.navigator.userAgentData)||void 0===n?void 0:n.platform)||window.navigator.platform))&&e.altKey)||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)&&(I="keyboard",D("keyboard",e))}function $(e){I="pointer",("mousedown"===e.type||"pointerdown"===e.type)&&(O=!0,D("pointer",e))}function B(e){var t,n;(0===e.mozInputSource&&e.isTrusted||((t=/Android/i,"undefined"!=typeof window&&null!=window.navigator&&((null===(n=window.navigator.userAgentData)||void 0===n?void 0:n.brands.some(e=>t.test(e.brand)))||t.test(window.navigator.userAgent))&&e.pointerType)?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType))&&(O=!0,I="virtual")}function V(e){e.target!==window&&e.target!==document&&(O||z||(I="virtual",D("virtual",e)),O=!1,z=!1)}function W(){O=!1,z=!0}function Z(e){if("undefined"==typeof window||A.get(R(e)))return;let t=R(e),n=L(e),r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){O=!0,r.apply(this,arguments)},n.addEventListener("keydown",H,!0),n.addEventListener("keyup",H,!0),n.addEventListener("click",B,!0),t.addEventListener("focus",V,!0),t.addEventListener("blur",W,!1),"undefined"!=typeof PointerEvent?(n.addEventListener("pointerdown",$,!0),n.addEventListener("pointermove",$,!0),n.addEventListener("pointerup",$,!0)):(n.addEventListener("mousedown",$,!0),n.addEventListener("mousemove",$,!0),n.addEventListener("mouseup",$,!0)),t.addEventListener("beforeunload",()=>{q(e)},{once:!0}),A.set(t,{focus:r})}let q=(e,t)=>{let n=R(e),r=L(e);t&&r.removeEventListener("DOMContentLoaded",t),A.has(n)&&(n.HTMLElement.prototype.focus=A.get(n).focus,r.removeEventListener("keydown",H,!0),r.removeEventListener("keyup",H,!0),r.removeEventListener("click",B,!0),n.removeEventListener("focus",V,!0),n.removeEventListener("blur",W,!1),"undefined"!=typeof PointerEvent?(r.removeEventListener("pointerdown",$,!0),r.removeEventListener("pointermove",$,!0),r.removeEventListener("pointerup",$,!0)):(r.removeEventListener("mousedown",$,!0),r.removeEventListener("mousemove",$,!0),r.removeEventListener("mouseup",$,!0)),A.delete(n))};function U(){return"pointer"!==I}"undefined"!=typeof document&&function(e){let t;let n=L(void 0);"loading"!==n.readyState?Z(void 0):(t=()=>{Z(void 0)},n.addEventListener("DOMContentLoaded",t)),()=>q(e,t)}();let G=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),K="undefined"!=typeof document?s.useLayoutEffect:()=>{};class Y{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function X(e){let t=(0,s.useRef)({isFocused:!1,observer:null});K(()=>{let e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}},[]);let n=function(e){let t=(0,s.useRef)(null);return K(()=>{t.current=e},[e]),(0,s.useCallback)((...e)=>{let n=t.current;return null==n?void 0:n(...e)},[])}(t=>{null==e||e(t)});return(0,s.useCallback)(e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=e.target;r.addEventListener("focusout",e=>{t.current.isFocused=!1,r.disabled&&n(new Y("blur",e)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)},{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var e;null===(e=t.current.observer)||void 0===e||e.disconnect();let n=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:n})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:n}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function J(e={}){var t,n,r;let{autoFocus:l=!1,isTextInput:i,within:o}=e,a=(0,s.useRef)({isFocused:!1,isFocusVisible:l||U()}),[c,u]=(0,s.useState)(!1),[d,f]=(0,s.useState)(()=>a.current.isFocused&&a.current.isFocusVisible),p=(0,s.useCallback)(()=>f(a.current.isFocused&&a.current.isFocusVisible),[]),m=(0,s.useCallback)(e=>{a.current.isFocused=e,u(e),p()},[p]);t=e=>{a.current.isFocusVisible=e,p()},n=[],r={isTextInput:i},Z(),(0,s.useEffect)(()=>{let e=(e,n)=>{(function(e,t,n){var r;let l="undefined"!=typeof window?R(null==n?void 0:n.target).HTMLInputElement:HTMLInputElement,i="undefined"!=typeof window?R(null==n?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o="undefined"!=typeof window?R(null==n?void 0:n.target).HTMLElement:HTMLElement,a="undefined"!=typeof window?R(null==n?void 0:n.target).KeyboardEvent:KeyboardEvent;return!((e=e||(null==n?void 0:n.target)instanceof l&&!G.has(null==n?void 0:null===(r=n.target)||void 0===r?void 0:r.type)||(null==n?void 0:n.target)instanceof i||(null==n?void 0:n.target)instanceof o&&(null==n?void 0:n.target.isContentEditable))&&"keyboard"===t&&n instanceof a&&!_[n.key])})(!!(null==r?void 0:r.isTextInput),e,n)&&t(U())};return F.add(e),()=>{F.delete(e)}},n);let{focusProps:h}=function(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:l}=e,i=(0,s.useCallback)(e=>{if(e.target===e.currentTarget)return r&&r(e),l&&l(!1),!0},[r,l]),o=X(i),a=(0,s.useCallback)(e=>{let t=L(e.target);e.target===e.currentTarget&&t.activeElement===e.target&&(n&&n(e),l&&l(!0),o(e))},[l,n,o]);return{focusProps:{onFocus:!t&&(n||l||r)?a:void 0,onBlur:!t&&(r||l)?i:void 0}}}({isDisabled:o,onFocusChange:m}),{focusWithinProps:v}=function(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:l}=e,i=(0,s.useRef)({isFocusWithin:!1}),o=(0,s.useCallback)(e=>{i.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(i.current.isFocusWithin=!1,n&&n(e),l&&l(!1))},[n,l,i]),a=X(o),c=(0,s.useCallback)(e=>{i.current.isFocusWithin||document.activeElement!==e.target||(r&&r(e),l&&l(!0),i.current.isFocusWithin=!0,a(e))},[r,l,a]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:o}}}({isDisabled:!o,onFocusWithinChange:m});return{isFocused:c,isFocusVisible:d,focusProps:o?v:h}}let Q=!1,ee=0;function et(){Q=!0,setTimeout(()=>{Q=!1},50)}function en(e){"touch"===e.pointerType&&et()}function er(){if("undefined"!=typeof document)return"undefined"!=typeof PointerEvent?document.addEventListener("pointerup",en):document.addEventListener("touchend",et),ee++,()=>{--ee>0||("undefined"!=typeof PointerEvent?document.removeEventListener("pointerup",en):document.removeEventListener("touchend",et))}}function el(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:l}=e,[i,o]=(0,s.useState)(!1),a=(0,s.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,s.useEffect)(er,[]);let{hoverProps:c,triggerHoverEnd:u}=(0,s.useMemo)(()=>{let e=(e,r)=>{if(a.pointerType=r,l||"touch"===r||a.isHovered||!e.currentTarget.contains(e.target))return;a.isHovered=!0;let i=e.currentTarget;a.target=i,t&&t({type:"hoverstart",target:i,pointerType:r}),n&&n(!0),o(!0)},i=(e,t)=>{if(a.pointerType="",a.target=null,"touch"===t||!a.isHovered)return;a.isHovered=!1;let l=e.currentTarget;r&&r({type:"hoverend",target:l,pointerType:t}),n&&n(!1),o(!1)},s={};return"undefined"!=typeof PointerEvent?(s.onPointerEnter=t=>{Q&&"mouse"===t.pointerType||e(t,t.pointerType)},s.onPointerLeave=e=>{!l&&e.currentTarget.contains(e.target)&&i(e,e.pointerType)}):(s.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},s.onMouseEnter=t=>{a.ignoreEmulatedMouseEvents||Q||e(t,"mouse"),a.ignoreEmulatedMouseEvents=!1},s.onMouseLeave=e=>{!l&&e.currentTarget.contains(e.target)&&i(e,"mouse")}),{hoverProps:s,triggerHoverEnd:i}},[t,n,r,l,a]);return(0,s.useEffect)(()=>{l&&u({currentTarget:a.target},a.pointerType)},[l]),{hoverProps:c,isHovered:i}}var ei=n(1235),eo=n(9945),ea=n(7959);function es({disabled:e=!1}={}){let t=(0,s.useRef)(null),[n,r]=(0,s.useState)(!1),l=(0,eo.G)(),i=(0,ea.z)(()=>{t.current=null,r(!1),l.dispose()}),o=(0,ea.z)(e=>{if(l.dispose(),null===t.current){t.current=e.currentTarget,r(!0);{let n=(0,ei.r)(e.currentTarget);l.addEventListener(n,"pointerup",i,!1),l.addEventListener(n,"pointermove",e=>{if(t.current){var n,l;let i,o;r((i=e.width/2,o=e.height/2,n={top:e.clientY-o,right:e.clientX+i,bottom:e.clientY+o,left:e.clientX-i},l=t.current.getBoundingClientRect(),!(!n||!l||n.right<l.left||n.left>l.right||n.bottom<l.top||n.top>l.bottom)))}},!1),l.addEventListener(n,"pointercancel",i,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:o,onPointerUp:i,onClick:i}}}var ec=n(8854),eu=n(2703),ed=n(7571),ef=n(4450),ep=n(195),em=n(375);function eh(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";if("string"==typeof n&&"button"===n.toLowerCase())return"button"}function ev(e,t){let[n,r]=(0,s.useState)(()=>eh(e));return(0,ec.e)(()=>{r(eh(e))},[e.type,e.as]),(0,ec.e)(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}var eg=n(4727),ex=n(3033),ey=n(6639),ew=n(8076),eb=n(5300);let eE=Math.min,ek=Math.max,eC=Math.round,ej=Math.floor,eS=e=>({x:e,y:e}),eN={left:"right",right:"left",bottom:"top",top:"bottom"},eM={start:"end",end:"start"};function eP(e,t){return"function"==typeof e?e(t):e}function eT(e){return e.split("-")[0]}function eL(e){return e.split("-")[1]}function eR(e){return"x"===e?"y":"x"}function eI(e){return"y"===e?"height":"width"}function eF(e){return["top","bottom"].includes(eT(e))?"y":"x"}function eA(e){return e.replace(/start|end/g,e=>eM[e])}function eO(e){return e.replace(/left|right|bottom|top/g,e=>eN[e])}function ez(e){let{x:t,y:n,width:r,height:l}=e;return{width:r,height:l,top:n,left:t,right:t+r,bottom:n+l,x:t,y:n}}function e_(e,t,n){let r,{reference:l,floating:i}=e,o=eF(t),a=eR(eF(t)),s=eI(a),c=eT(t),u="y"===o,d=l.x+l.width/2-i.width/2,f=l.y+l.height/2-i.height/2,p=l[s]/2-i[s]/2;switch(c){case"top":r={x:d,y:l.y-i.height};break;case"bottom":r={x:d,y:l.y+l.height};break;case"right":r={x:l.x+l.width,y:f};break;case"left":r={x:l.x-i.width,y:f};break;default:r={x:l.x,y:l.y}}switch(eL(t)){case"start":r[a]-=p*(n&&u?-1:1);break;case"end":r[a]+=p*(n&&u?-1:1)}return r}let eD=async(e,t,n)=>{let{placement:r="bottom",strategy:l="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),s=await (null==o.isRTL?void 0:o.isRTL(t)),c=await o.getElementRects({reference:e,floating:t,strategy:l}),{x:u,y:d}=e_(c,r,s),f=r,p={},m=0;for(let n=0;n<a.length;n++){let{name:i,fn:h}=a[n],{x:v,y:g,data:x,reset:y}=await h({x:u,y:d,initialPlacement:r,placement:f,strategy:l,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});u=null!=v?v:u,d=null!=g?g:d,p={...p,[i]:{...p[i],...x}},y&&m<=50&&(m++,"object"==typeof y&&(y.placement&&(f=y.placement),y.rects&&(c=!0===y.rects?await o.getElementRects({reference:e,floating:t,strategy:l}):y.rects),{x:u,y:d}=e_(c,f,s)),n=-1)}return{x:u,y:d,placement:f,strategy:l,middlewareData:p}};async function eH(e,t){var n;void 0===t&&(t={});let{x:r,y:l,platform:i,rects:o,elements:a,strategy:s}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=eP(t,e),m="number"!=typeof p?{top:0,right:0,bottom:0,left:0,...p}:{top:p,right:p,bottom:p,left:p},h=a[f?"floating"===d?"reference":"floating":d],v=ez(await i.getClippingRect({element:null==(n=await (null==i.isElement?void 0:i.isElement(h)))||n?h:h.contextElement||await (null==i.getDocumentElement?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:s})),g="floating"===d?{x:r,y:l,width:o.floating.width,height:o.floating.height}:o.reference,x=await (null==i.getOffsetParent?void 0:i.getOffsetParent(a.floating)),y=await (null==i.isElement?void 0:i.isElement(x))&&await (null==i.getScale?void 0:i.getScale(x))||{x:1,y:1},w=ez(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:x,strategy:s}):g);return{top:(v.top-w.top+m.top)/y.y,bottom:(w.bottom-v.bottom+m.bottom)/y.y,left:(v.left-w.left+m.left)/y.x,right:(w.right-v.right+m.right)/y.x}}async function e$(e,t){let{placement:n,platform:r,elements:l}=e,i=await (null==r.isRTL?void 0:r.isRTL(l.floating)),o=eT(n),a=eL(n),s="y"===eF(n),c=["left","top"].includes(o)?-1:1,u=i&&s?-1:1,d=eP(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:m}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&"number"==typeof m&&(p="end"===a?-1*m:m),s?{x:p*u,y:f*c}:{x:f*c,y:p*u}}function eB(e){return eZ(e)?(e.nodeName||"").toLowerCase():"#document"}function eV(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function eW(e){var t;return null==(t=(eZ(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function eZ(e){return e instanceof Node||e instanceof eV(e).Node}function eq(e){return e instanceof Element||e instanceof eV(e).Element}function eU(e){return e instanceof HTMLElement||e instanceof eV(e).HTMLElement}function eG(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof eV(e).ShadowRoot)}function eK(e){let{overflow:t,overflowX:n,overflowY:r,display:l}=eQ(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(l)}function eY(e){let t=eX(),n=eQ(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some(e=>(n.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(n.contain||"").includes(e))}function eX(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function eJ(e){return["html","body","#document"].includes(eB(e))}function eQ(e){return eV(e).getComputedStyle(e)}function e0(e){return eq(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function e1(e){if("html"===eB(e))return e;let t=e.assignedSlot||e.parentNode||eG(e)&&e.host||eW(e);return eG(t)?t.host:t}function e2(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);let l=function e(t){let n=e1(t);return eJ(n)?t.ownerDocument?t.ownerDocument.body:t.body:eU(n)&&eK(n)?n:e(n)}(e),i=l===(null==(r=e.ownerDocument)?void 0:r.body),o=eV(l);return i?t.concat(o,o.visualViewport||[],eK(l)?l:[],o.frameElement&&n?e2(o.frameElement):[]):t.concat(l,e2(l,[],n))}function e5(e){let t=eQ(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,l=eU(e),i=l?e.offsetWidth:n,o=l?e.offsetHeight:r,a=eC(n)!==i||eC(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function e4(e){return eq(e)?e:e.contextElement}function e3(e){let t=e4(e);if(!eU(t))return eS(1);let n=t.getBoundingClientRect(),{width:r,height:l,$:i}=e5(t),o=(i?eC(n.width):n.width)/r,a=(i?eC(n.height):n.height)/l;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}let e9=eS(0);function e7(e){let t=eV(e);return eX()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:e9}function e6(e,t,n,r){var l;void 0===t&&(t=!1),void 0===n&&(n=!1);let i=e.getBoundingClientRect(),o=e4(e),a=eS(1);t&&(r?eq(r)&&(a=e3(r)):a=e3(e));let s=(void 0===(l=n)&&(l=!1),r&&(!l||r===eV(o))&&l)?e7(o):eS(0),c=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(o){let e=eV(o),t=r&&eq(r)?eV(r):r,n=e,l=n.frameElement;for(;l&&r&&t!==n;){let e=e3(l),t=l.getBoundingClientRect(),r=eQ(l),i=t.left+(l.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(l.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,u*=e.y,d*=e.x,f*=e.y,c+=i,u+=o,l=(n=eV(l)).frameElement}}return ez({width:d,height:f,x:c,y:u})}let e8=[":popover-open",":modal"];function te(e){return e8.some(t=>{try{return e.matches(t)}catch(e){return!1}})}function tt(e){return e6(eW(e)).left+e0(e).scrollLeft}function tn(e,t,n){let r;if("viewport"===t)r=function(e,t){let n=eV(e),r=eW(e),l=n.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,s=0;if(l){i=l.width,o=l.height;let e=eX();(!e||e&&"fixed"===t)&&(a=l.offsetLeft,s=l.offsetTop)}return{width:i,height:o,x:a,y:s}}(e,n);else if("document"===t)r=function(e){let t=eW(e),n=e0(e),r=e.ownerDocument.body,l=ek(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=ek(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),o=-n.scrollLeft+tt(e),a=-n.scrollTop;return"rtl"===eQ(r).direction&&(o+=ek(t.clientWidth,r.clientWidth)-l),{width:l,height:i,x:o,y:a}}(eW(e));else if(eq(t))r=function(e,t){let n=e6(e,!0,"fixed"===t),r=n.top+e.clientTop,l=n.left+e.clientLeft,i=eU(e)?e3(e):eS(1),o=e.clientWidth*i.x;return{width:o,height:e.clientHeight*i.y,x:l*i.x,y:r*i.y}}(t,n);else{let n=e7(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return ez(r)}function tr(e){return"static"===eQ(e).position}function tl(e,t){return eU(e)&&"fixed"!==eQ(e).position?t?t(e):e.offsetParent:null}function ti(e,t){let n=eV(e);if(te(e))return n;if(!eU(e)){let t=e1(e);for(;t&&!eJ(t);){if(eq(t)&&!tr(t))return t;t=e1(t)}return n}let r=tl(e,t);for(;r&&["table","td","th"].includes(eB(r))&&tr(r);)r=tl(r,t);return r&&eJ(r)&&tr(r)&&!eY(r)?n:r||function(e){let t=e1(e);for(;eU(t)&&!eJ(t);){if(eY(t))return t;t=e1(t)}return null}(e)||n}let to=async function(e){let t=this.getOffsetParent||ti,n=this.getDimensions,r=await n(e.floating);return{reference:function(e,t,n){let r=eU(t),l=eW(t),i="fixed"===n,o=e6(e,!0,i,t),a={scrollLeft:0,scrollTop:0},s=eS(0);if(r||!r&&!i){if(("body"!==eB(t)||eK(l))&&(a=e0(t)),r){let e=e6(t,!0,i,t);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else l&&(s.x=tt(l))}return{x:o.left+a.scrollLeft-s.x,y:o.top+a.scrollTop-s.y,width:o.width,height:o.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},ta={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:l}=e,i="fixed"===l,o=eW(r),a=!!t&&te(t.floating);if(r===o||a&&i)return n;let s={scrollLeft:0,scrollTop:0},c=eS(1),u=eS(0),d=eU(r);if((d||!d&&!i)&&(("body"!==eB(r)||eK(o))&&(s=e0(r)),eU(r))){let e=e6(r);c=e3(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-s.scrollLeft*c.x+u.x,y:n.y*c.y-s.scrollTop*c.y+u.y}},getDocumentElement:eW,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:l}=e,i=[..."clippingAncestors"===n?te(t)?[]:function(e,t){let n=t.get(e);if(n)return n;let r=e2(e,[],!1).filter(e=>eq(e)&&"body"!==eB(e)),l=null,i="fixed"===eQ(e).position,o=i?e1(e):e;for(;eq(o)&&!eJ(o);){let t=eQ(o),n=eY(o);n||"fixed"!==t.position||(l=null),(i?!n&&!l:!n&&"static"===t.position&&!!l&&["absolute","fixed"].includes(l.position)||eK(o)&&!n&&function e(t,n){let r=e1(t);return!(r===n||!eq(r)||eJ(r))&&("fixed"===eQ(r).position||e(r,n))}(e,o))?r=r.filter(e=>e!==o):l=t,o=e1(o)}return t.set(e,r),r}(t,this._c):[].concat(n),r],o=i[0],a=i.reduce((e,n)=>{let r=tn(t,n,l);return e.top=ek(r.top,e.top),e.right=eE(r.right,e.right),e.bottom=eE(r.bottom,e.bottom),e.left=ek(r.left,e.left),e},tn(t,o,l));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:ti,getElementRects:to,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:n}=e5(e);return{width:t,height:n}},getScale:e3,isElement:eq,isRTL:function(e){return"rtl"===eQ(e).direction}};function ts(e,t,n,r){let l;void 0===r&&(r={});let{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:c=!1}=r,u=e4(e),d=i||o?[...u?e2(u):[],...e2(t)]:[];d.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});let f=u&&s?function(e,t){let n,r=null,l=eW(e);function i(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function o(a,s){void 0===a&&(a=!1),void 0===s&&(s=1),i();let{left:c,top:u,width:d,height:f}=e.getBoundingClientRect();if(a||t(),!d||!f)return;let p=ej(u),m=ej(l.clientWidth-(c+d)),h={rootMargin:-p+"px "+-m+"px "+-ej(l.clientHeight-(u+f))+"px "+-ej(c)+"px",threshold:ek(0,eE(1,s))||1},v=!0;function g(e){let t=e[0].intersectionRatio;if(t!==s){if(!v)return o();t?o(!1,t):n=setTimeout(()=>{o(!1,1e-7)},1e3)}v=!1}try{r=new IntersectionObserver(g,{...h,root:l.ownerDocument})}catch(e){r=new IntersectionObserver(g,h)}r.observe(e)}(!0),i}(u,n):null,p=-1,m=null;a&&(m=new ResizeObserver(e=>{let[r]=e;r&&r.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let h=c?e6(e):null;return c&&function t(){let r=e6(e);h&&(r.x!==h.x||r.y!==h.y||r.width!==h.width||r.height!==h.height)&&n(),h=r,l=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach(e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==f||f(),null==(e=m)||e.disconnect(),m=null,c&&cancelAnimationFrame(l)}}let tc=(e,t,n)=>{let r=new Map,l={platform:ta,...n},i={...l.platform,_c:r};return eD(e,t,{...l,platform:i})};var tu=n(5393),td="undefined"!=typeof document?s.useLayoutEffect:s.useEffect;function tf(e,t){let n,r,l;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(r=n;0!=r--;)if(!tf(e[r],t[r]))return!1;return!0}if((n=(l=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!({}).hasOwnProperty.call(t,l[r]))return!1;for(r=n;0!=r--;){let n=l[r];if(("_owner"!==n||!e.$$typeof)&&!tf(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function tp(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tm(e,t){let n=tp(e);return Math.round(t*n)/n}function th(e){let t=s.useRef(e);return td(()=>{t.current=e}),t}let tv=(e,t)=>({...function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;let{x:l,y:i,placement:o,middlewareData:a}=t,s=await e$(t,e);return o===(null==(n=a.offset)?void 0:n.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:l+s.x,y:i+s.y,data:{...s,placement:o}}}}}(e),options:[e,t]}),tg=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:r,placement:l}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...s}=eP(e,t),c={x:n,y:r},u=await eH(t,s),d=eF(eT(l)),f=eR(d),p=c[f],m=c[d];if(i){let e="y"===f?"top":"left",t="y"===f?"bottom":"right",n=p+u[e],r=p-u[t];p=ek(n,eE(p,r))}if(o){let e="y"===d?"top":"left",t="y"===d?"bottom":"right",n=m+u[e],r=m-u[t];m=ek(n,eE(m,r))}let h=a.fn({...t,[f]:p,[d]:m});return{...h,data:{x:h.x-n,y:h.y-r}}}}}(e),options:[e,t]}),tx=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r,l,i,o;let{placement:a,middlewareData:s,rects:c,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:x=!0,...y}=eP(e,t);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};let w=eT(a),b=eT(u)===u,E=await (null==d.isRTL?void 0:d.isRTL(f.floating)),k=h||(b||!x?[eO(u)]:function(e){let t=eO(e);return[eA(e),t,eA(t)]}(u));h||"none"===g||k.push(...function(e,t,n,r){let l=eL(e),i=function(e,t,n){let r=["left","right"],l=["right","left"];switch(e){case"top":case"bottom":if(n)return t?l:r;return t?r:l;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(eT(e),"start"===n,r);return l&&(i=i.map(e=>e+"-"+l),t&&(i=i.concat(i.map(eA)))),i}(u,x,g,E));let C=[u,...k],j=await eH(t,y),S=[],N=(null==(r=s.flip)?void 0:r.overflows)||[];if(p&&S.push(j[w]),m){let e=function(e,t,n){void 0===n&&(n=!1);let r=eL(e),l=eR(eF(e)),i=eI(l),o="x"===l?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=eO(o)),[o,eO(o)]}(a,c,E);S.push(j[e[0]],j[e[1]])}if(N=[...N,{placement:a,overflows:S}],!S.every(e=>e<=0)){let e=((null==(l=s.flip)?void 0:l.index)||0)+1,t=C[e];if(t)return{data:{index:e,overflows:N},reset:{placement:t}};let n=null==(i=N.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:i.placement;if(!n)switch(v){case"bestFit":{let e=null==(o=N.map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:o[0];e&&(n=e);break}case"initialPlacement":n=u}if(a!==n)return{reset:{placement:n}}}return{}}}}(e),options:[e,t]}),ty=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){let n,r;let{placement:l,rects:i,platform:o,elements:a}=t,{apply:s=()=>{},...c}=eP(e,t),u=await eH(t,c),d=eT(l),f=eL(l),p="y"===eF(l),{width:m,height:h}=i.floating;"top"===d||"bottom"===d?(n=d,r=f===(await (null==o.isRTL?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(r=d,n="end"===f?"top":"bottom");let v=h-u.top-u.bottom,g=m-u.left-u.right,x=eE(h-u[n],v),y=eE(m-u[r],g),w=!t.middlewareData.shift,b=x,E=y;if(p?E=f||w?eE(y,g):g:b=f||w?eE(x,v):v,w&&!f){let e=ek(u.left,0),t=ek(u.right,0),n=ek(u.top,0),r=ek(u.bottom,0);p?E=m-2*(0!==e||0!==t?e+t:ek(u.left,u.right)):b=h-2*(0!==n||0!==r?n+r:ek(u.top,u.bottom))}await s({...t,availableWidth:E,availableHeight:b});let k=await o.getDimensions(a.floating);return m!==k.width||h!==k.height?{reset:{rects:!0}}:{}}}}(e),options:[e,t]}),tw={...c},tb=tw.useInsertionEffect||(e=>e());function tE(e){let t=s.useRef(()=>{});return tb(()=>{t.current=e}),s.useCallback(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}var tk="undefined"!=typeof document?s.useLayoutEffect:s.useEffect;let tC=!1,tj=0,tS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+tj++,tN=tw.useId||function(){let[e,t]=s.useState(()=>tC?tS():void 0);return tk(()=>{null==e&&t(tS())},[]),s.useEffect(()=>{tC=!0},[]),e},tM=s.createContext(null),tP=s.createContext(null),tT=()=>{var e;return(null==(e=s.useContext(tM))?void 0:e.id)||null},tL=()=>s.useContext(tP),tR=()=>{},tI=e=>e&&(e.host||tI(e.parentNode)),tF=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"}),tA="active",tO="selected";function tz(e,t,n){let r=new Map,l="item"===n,i=e;if(l&&e){let{[tA]:t,[tO]:n,...r}=e;i=r}return{..."floating"===n&&{tabIndex:-1},...i,...t.map(t=>{let r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r}).concat(e).reduce((e,t)=>(t&&Object.entries(t).forEach(t=>{let[n,i]=t;if(!(l&&[tA,tO].includes(n))){if(0===n.indexOf("on")){if(r.has(n)||r.set(n,[]),"function"==typeof i){var o;null==(o=r.get(n))||o.push(i),e[n]=function(){for(var e,t=arguments.length,l=Array(t),i=0;i<t;i++)l[i]=arguments[i];return null==(e=r.get(n))?void 0:e.map(e=>e(...l)).find(e=>void 0!==e)}}}else e[n]=i}}),e),{})}}function t_(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}let tD=e=>({name:"inner",options:e,async fn(t){let{listRef:n,overflowRef:r,onFallbackChange:l,offset:i=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:s=0,scrollRef:c,...u}=e,{rects:d,elements:{floating:f}}=t,p=n.current[o];if(!p)return{};let m={...t,...await tv(-p.offsetTop-f.clientTop-d.reference.height/2-p.offsetHeight/2-i).fn(t)},h=(null==c?void 0:c.current)||f,v=await eH(t_(m,h.scrollHeight),u),g=await eH(m,{...u,elementContext:"reference"}),x=Math.max(0,v.top),y=m.y+x,w=Math.max(0,h.scrollHeight-x-Math.max(0,v.bottom));return h.style.maxHeight=w+"px",h.scrollTop=x,l&&(h.offsetHeight<p.offsetHeight*Math.min(a,n.current.length-1)-1||g.top>=-s||g.bottom>=-s?(0,tu.flushSync)(()=>l(!0)):(0,tu.flushSync)(()=>l(!1))),r&&(r.current=await eH(t_({...m,y:y},h.offsetHeight),u)),{y:y}}}),tH=(0,s.createContext)({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});tH.displayName="FloatingContext";let t$=(0,s.createContext)(null);function tB({children:e,enabled:t=!0}){var n,r,l;let i,o,a,[c,u]=(0,s.useState)(null),[d,f]=(0,s.useState)(0),p=(0,s.useRef)(null),[m,h]=(0,s.useState)(null);(0,ec.e)(()=>{if(!m)return;let e=new MutationObserver(()=>{let e=m.style.maxHeight;parseFloat(e)!==parseInt(e)&&(m.style.maxHeight=`${Math.ceil(parseFloat(e))}px`)});return e.observe(m,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[m]);let v=t&&null!==c&&null!==m,{to:g="bottom",gap:x=0,offset:y=0,padding:w=0,inner:b}=(i=tV(null!=(n=null==c?void 0:c.gap)?n:"var(--anchor-gap, 0)",m),o=tV(null!=(r=null==c?void 0:c.offset)?r:"var(--anchor-offset, 0)",m),a=tV(null!=(l=null==c?void 0:c.padding)?l:"var(--anchor-padding, 0)",m),{...c,gap:i,offset:o,padding:a}),[E,k="center"]=g.split(" ");(0,ec.e)(()=>{v&&f(0)},[v]);let{refs:C,floatingStyles:j,context:S}=function(e){void 0===e&&(e={});let{nodeId:t}=e,n=function(e){let{open:t=!1,onOpenChange:n,elements:r}=e,l=tN(),i=s.useRef({}),[o]=s.useState(()=>(function(){let e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter(e=>e!==n))||[])}}})()),a=null!=tT(),[c,u]=s.useState(r.reference),d=tE((e,t,r)=>{i.current.openEvent=e?t:void 0,o.emit("openchange",{open:e,event:t,reason:r,nested:a}),null==n||n(e,t,r)}),f=s.useMemo(()=>({setPositionReference:u}),[]),p=s.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return s.useMemo(()=>({dataRef:i,open:t,onOpenChange:d,elements:p,events:o,floatingId:l,refs:f}),[t,d,p,o,l,f])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,l=r.elements,[i,o]=s.useState(null),[a,c]=s.useState(null),u=(null==l?void 0:l.reference)||i,d=s.useRef(null),f=tL();tk(()=>{u&&(d.current=u)},[u]);let p=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:l,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=s.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=s.useState(r);tf(p,r)||m(r);let[h,v]=s.useState(null),[g,x]=s.useState(null),y=s.useCallback(e=>{e!==k.current&&(k.current=e,v(e))},[]),w=s.useCallback(e=>{e!==C.current&&(C.current=e,x(e))},[]),b=i||h,E=o||g,k=s.useRef(null),C=s.useRef(null),j=s.useRef(d),S=null!=c,N=th(c),M=th(l),P=s.useCallback(()=>{if(!k.current||!C.current)return;let e={placement:t,strategy:n,middleware:p};M.current&&(e.platform=M.current),tc(k.current,C.current,e).then(e=>{let t={...e,isPositioned:!0};T.current&&!tf(j.current,t)&&(j.current=t,tu.flushSync(()=>{f(t)}))})},[p,t,n,M]);td(()=>{!1===u&&j.current.isPositioned&&(j.current.isPositioned=!1,f(e=>({...e,isPositioned:!1})))},[u]);let T=s.useRef(!1);td(()=>(T.current=!0,()=>{T.current=!1}),[]),td(()=>{if(b&&(k.current=b),E&&(C.current=E),b&&E){if(N.current)return N.current(b,E,P);P()}},[b,E,P,N,S]);let L=s.useMemo(()=>({reference:k,floating:C,setReference:y,setFloating:w}),[y,w]),R=s.useMemo(()=>({reference:b,floating:E}),[b,E]),I=s.useMemo(()=>{let e={position:n,left:0,top:0};if(!R.floating)return e;let t=tm(R.floating,d.x),r=tm(R.floating,d.y);return a?{...e,transform:"translate("+t+"px, "+r+"px)",...tp(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,a,R.floating,d.x,d.y]);return s.useMemo(()=>({...d,update:P,refs:L,elements:R,floatingStyles:I}),[d,P,L,R,I])}({...e,elements:{...l,...a&&{reference:a}}}),m=s.useCallback(e=>{let t=eq(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;c(t),p.refs.setReference(t)},[p.refs]),h=s.useCallback(e=>{(eq(e)||null===e)&&(d.current=e,o(e)),(eq(p.refs.reference.current)||null===p.refs.reference.current||null!==e&&!eq(e))&&p.refs.setReference(e)},[p.refs]),v=s.useMemo(()=>({...p.refs,setReference:h,setPositionReference:m,domReference:d}),[p.refs,h,m]),g=s.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),x=s.useMemo(()=>({...p,...r,refs:v,elements:g,nodeId:t}),[p,v,g,t,r]);return tk(()=>{r.dataRef.current.floatingContext=x;let e=null==f?void 0:f.nodesRef.current.find(e=>e.id===t);e&&(e.context=x)}),s.useMemo(()=>({...p,context:x,refs:v,elements:g}),[p,v,g,x])}({open:v,placement:"selection"===E?"center"===k?"bottom":`bottom-${k}`:"center"===k?`${E}`:`${E}-${k}`,strategy:"absolute",transform:!1,middleware:[tv({mainAxis:"selection"===E?0:x,crossAxis:y}),tg({padding:w}),"selection"!==E&&tx({padding:w}),"selection"===E&&b?tD({...b,padding:w,overflowRef:p,offset:d,minItemsVisible:4,referenceOverflowThreshold:w,onFallbackChange(e){var t,n;if(!e)return;let r=S.elements.floating;if(!r)return;let l=parseFloat(getComputedStyle(r).scrollPaddingBottom)||0,i=Math.min(4,r.childElementCount),o=0,a=0;for(let e of null!=(n=null==(t=S.elements.floating)?void 0:t.childNodes)?n:[])if(e instanceof HTMLElement){let t=e.offsetTop,n=t+e.clientHeight+l,s=r.scrollTop,c=s+r.clientHeight;if(t>=s&&n<=c)i--;else{a=Math.max(0,Math.min(n,c)-Math.max(t,s)),o=e.clientHeight;break}}i>=1&&f(e=>{let t=o*i-a+l;return e>=t?e:t})}}):null,ty({padding:w,apply({availableWidth:e,availableHeight:t,elements:n}){Object.assign(n.floating.style,{overflow:"auto",maxWidth:`${e}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${t}px)`})}})].filter(Boolean),whileElementsMounted:ts}),[N=E,M=k]=S.placement.split("-");"selection"===E&&(N="selection");let P=(0,s.useMemo)(()=>({anchor:[N,M].filter(Boolean).join(" ")}),[N,M]),{getReferenceProps:T,getFloatingProps:L}=function(e){void 0===e&&(e=[]);let t=e,n=s.useCallback(t=>tz(t,e,"reference"),t),r=s.useCallback(t=>tz(t,e,"floating"),t),l=s.useCallback(t=>tz(t,e,"item"),e.map(e=>null==e?void 0:e.item));return s.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:l}),[n,r,l])}([function(e,t){let{open:n,elements:r}=e,{enabled:l=!0,overflowRef:i,scrollRef:o,onChange:a}=t,c=tE(a),u=s.useRef(!1),d=s.useRef(null),f=s.useRef(null);return s.useEffect(()=>{if(!l)return;function e(e){if(e.ctrlKey||!t||null==i.current)return;let n=e.deltaY,r=i.current.top>=-.5,l=i.current.bottom>=-.5,o=t.scrollHeight-t.clientHeight,a=n<0?-1:1,s=n<0?"max":"min";!(t.scrollHeight<=t.clientHeight)&&(!r&&n>0||!l&&n<0?(e.preventDefault(),(0,tu.flushSync)(()=>{c(e=>e+Math[s](n,o*a))})):/firefox/i.test(function(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(e=>{let{brand:t,version:n}=e;return t+"/"+n}).join(" "):navigator.userAgent}())&&(t.scrollTop+=n))}let t=(null==o?void 0:o.current)||r.floating;if(n&&t)return t.addEventListener("wheel",e),requestAnimationFrame(()=>{d.current=t.scrollTop,null!=i.current&&(f.current={...i.current})}),()=>{d.current=null,f.current=null,t.removeEventListener("wheel",e)}},[l,n,r.floating,i,o,c]),s.useMemo(()=>l?{floating:{onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){let e=(null==o?void 0:o.current)||r.floating;if(i.current&&e&&u.current){if(null!==d.current){let t=e.scrollTop-d.current;(i.current.bottom<-.5&&t<-1||i.current.top<-.5&&t>1)&&(0,tu.flushSync)(()=>c(e=>e+t))}requestAnimationFrame(()=>{d.current=e.scrollTop})}}}}:{},[l,i,r.floating,o,c])}(S,{overflowRef:p,onChange:f})]),R=(0,ea.z)(e=>{h(e),C.setFloating(e)});return s.createElement(t$.Provider,{value:u},s.createElement(tH.Provider,{value:{setFloating:R,setReference:C.setReference,styles:j,getReferenceProps:T,getFloatingProps:L,slot:P}},e))}function tV(e,t,n){let r=(0,eo.G)(),l=(0,ea.z)((e,t)=>{if(null==e)return[n,null];if("number"==typeof e)return[e,null];if("string"==typeof e){if(!t)return[n,null];let l=tW(e,t);return[l,n=>{let i=function e(t){let n=/var\((.*)\)/.exec(t);if(n){let t=n[1].indexOf(",");if(-1===t)return[n[1]];let r=n[1].slice(0,t).trim(),l=n[1].slice(t+1).trim();return l?[r,...e(l)]:[r]}return[]}(e);{let o=i.map(e=>window.getComputedStyle(t).getPropertyValue(e));r.requestAnimationFrame(function a(){r.nextFrame(a);let s=!1;for(let[e,n]of i.entries()){let r=window.getComputedStyle(t).getPropertyValue(n);if(o[e]!==r){o[e]=r,s=!0;break}}if(!s)return;let c=tW(e,t);l!==c&&(n(c),l=c)})}return r.dispose}]}return[n,null]}),i=(0,s.useMemo)(()=>l(e,t)[0],[e,t]),[o=i,a]=(0,s.useState)();return(0,ec.e)(()=>{let[n,r]=l(e,t);if(a(n),r)return r(a)},[e,t]),o}function tW(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}t$.displayName="PlacementContext";var tZ=n(121),tq=n(7806);function tU(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(null==t?void 0:t.getAttribute("disabled"))==="";return!(r&&function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}var tG=n(3959),tK=n(5470),tY=n(8222),tX=n(5265),tJ=n(4691),tQ=((r=tQ||{})[r.Open=0]="Open",r[r.Closed=1]="Closed",r),t0=((l=t0||{})[l.TogglePopover=0]="TogglePopover",l[l.ClosePopover=1]="ClosePopover",l[l.SetButton=2]="SetButton",l[l.SetButtonId=3]="SetButtonId",l[l.SetPanel=4]="SetPanel",l[l.SetPanelId=5]="SetPanelId",l);let t1={0:e=>({...e,popoverState:(0,tK.E)(e.popoverState,{0:1,1:0}),__demoMode:!1}),1:e=>1===e.popoverState?e:{...e,popoverState:1,__demoMode:!1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},t2=(0,s.createContext)(null);function t5(e){let t=(0,s.useContext)(t2);if(null===t){let t=Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,t5),t}return t}t2.displayName="PopoverContext";let t4=(0,s.createContext)(null);function t3(e){let t=(0,s.useContext)(t4);if(null===t){let t=Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,t3),t}return t}t4.displayName="PopoverAPIContext";let t9=(0,s.createContext)(null);function t7(){return(0,s.useContext)(t9)}t9.displayName="PopoverGroupContext";let t6=(0,s.createContext)(null);function t8(e,t){return(0,tK.E)(t.type,t1,e,t)}t6.displayName="PopoverPanelContext";let ne=tY.VN.RenderStrategy|tY.VN.Static,nt=tY.VN.RenderStrategy|tY.VN.Static,nn=Object.assign((0,tY.yV)(function(e,t){var n;let{__demoMode:r=!1,...l}=e,i=(0,s.useRef)(null),o=(0,ey.T)(t,(0,ey.h)(e=>{i.current=e})),a=(0,s.useRef)([]),c=(0,s.useReducer)(t8,{__demoMode:r,popoverState:r?0:1,buttons:a,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:(0,s.createRef)(),afterPanelSentinel:(0,s.createRef)(),afterButtonSentinel:(0,s.createRef)()}),[{popoverState:u,button:d,buttonId:f,panel:p,panelId:m,beforePanelSentinel:h,afterPanelSentinel:v,afterButtonSentinel:g},x]=c,y=(0,em.i)(null!=(n=i.current)?n:d),w=(0,s.useMemo)(()=>{if(!d||!p)return!1;for(let e of document.querySelectorAll("body > *"))if(Number(null==e?void 0:e.contains(d))^Number(null==e?void 0:e.contains(p)))return!0;let e=(0,tG.GO)(),t=e.indexOf(d),n=(t+e.length-1)%e.length,r=(t+1)%e.length,l=e[n],i=e[r];return!p.contains(l)&&!p.contains(i)},[d,p]),b=(0,ed.E)(f),E=(0,ed.E)(m),k=((0,s.useMemo)(()=>({buttonId:b,panelId:E,close:()=>x({type:1})}),[b,E,x]),t7()),C=(null==k||k.registerPopover,(0,ea.z)(()=>{var e;return null!=(e=null==k?void 0:k.isFocusWithinPopoverGroup())?e:(null==y?void 0:y.activeElement)&&((null==d?void 0:d.contains(y.activeElement))||(null==p?void 0:p.contains(y.activeElement)))})),[j,S]=(0,tJ.kF)(),N=(0,eg.v)({mainTreeNodeRef:null==k?void 0:k.mainTreeNodeRef,portals:j,defaultContainers:[d,p]});(0,eu.O)(null==y?void 0:y.defaultView,"focus",e=>{var t,n,r,l,i,o;e.target!==window&&e.target instanceof HTMLElement&&0===u&&(C()||d&&p&&(N.contains(e.target)||null!=(n=null==(t=h.current)?void 0:t.contains)&&n.call(t,e.target)||null!=(l=null==(r=v.current)?void 0:r.contains)&&l.call(r,e.target)||null!=(o=null==(i=g.current)?void 0:i.contains)&&o.call(i,e.target)||x({type:1})))},!0),(0,ep.O)(N.resolveContainers,(e,t)=>{x({type:1}),(0,tG.sP)(t,tG.tJ.Loose)||(e.preventDefault(),null==d||d.focus())},0===u);let M=(0,ea.z)(e=>{x({type:1});let t=e?e instanceof HTMLElement?e:"current"in e&&e.current instanceof HTMLElement?e.current:d:d;null==t||t.focus()}),P=(0,s.useMemo)(()=>({close:M,isPortalled:w}),[M,w]),T=(0,s.useMemo)(()=>({open:0===u,close:M}),[u,M]);return s.createElement(tB,null,s.createElement(t6.Provider,{value:null},s.createElement(t2.Provider,{value:c},s.createElement(t4.Provider,{value:P},s.createElement(eb.Z,{value:M},s.createElement(tq.up,{value:(0,tK.E)(u,{0:tq.ZM.Open,1:tq.ZM.Closed})},s.createElement(S,null,(0,tY.sY)({ourProps:{ref:o},theirProps:l,slot:T,defaultTag:"div",name:"Popover"}),s.createElement(N.MainTreeNode,null))))))))}),{Button:(0,tY.yV)(function(e,t){let n=(0,s.useId)(),{id:r=`headlessui-popover-button-${n}`,disabled:l=!1,autoFocus:i=!1,...o}=e,[a,c]=t5("Popover.Button"),{isPortalled:u}=t3("Popover.Button"),d=(0,s.useRef)(null),f=`headlessui-focus-sentinel-${(0,s.useId)()}`,p=t7(),m=null==p?void 0:p.closeOthers,h=null!==(0,s.useContext)(t6),[v]=(0,s.useState)(()=>Symbol()),g=(0,ey.T)(d,t,(0,s.useContext)(tH).setReference,h?null:e=>{if(e)a.buttons.current.push(v);else{let e=a.buttons.current.indexOf(v);-1!==e&&a.buttons.current.splice(e,1)}a.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),e&&c({type:2,button:e})}),x=(0,ey.T)(d,t),y=(0,em.i)(d),w=(0,ea.z)(e=>{var t,n,r;if(h){if(1===a.popoverState)return;switch(e.key){case tX.R.Space:case tX.R.Enter:e.preventDefault(),null==(n=(t=e.target).click)||n.call(t),c({type:1}),null==(r=a.button)||r.focus()}}else switch(e.key){case tX.R.Space:case tX.R.Enter:e.preventDefault(),e.stopPropagation(),1===a.popoverState&&(null==m||m(a.buttonId)),c({type:0});break;case tX.R.Escape:if(0!==a.popoverState)return null==m?void 0:m(a.buttonId);if(!d.current||null!=y&&y.activeElement&&!d.current.contains(y.activeElement))return;e.preventDefault(),e.stopPropagation(),c({type:1})}}),b=(0,ea.z)(e=>{h||e.key===tX.R.Space&&e.preventDefault()}),E=(0,ea.z)(e=>{var t,n;tU(e.currentTarget)||l||(h?(c({type:1}),null==(t=a.button)||t.focus()):(e.preventDefault(),e.stopPropagation(),1===a.popoverState&&(null==m||m(a.buttonId)),c({type:0}),null==(n=a.button)||n.focus()))}),k=(0,ea.z)(e=>{e.preventDefault(),e.stopPropagation()}),{isFocusVisible:C,focusProps:j}=J({autoFocus:i}),{isHovered:S,hoverProps:N}=el({isDisabled:l}),{pressed:M,pressProps:P}=es({disabled:l}),T=0===a.popoverState,L=(0,s.useMemo)(()=>({open:T,active:M||T,disabled:l,hover:S,focus:C,autofocus:i}),[T,S,C,M,l,i]),R=ev(e,d),I=h?(0,tY.dG)({ref:x,type:R,onKeyDown:w,onClick:E,disabled:l||void 0,autoFocus:i},j,N,P):(0,tY.dG)({ref:g,id:a.buttonId,type:R,"aria-expanded":0===a.popoverState,"aria-controls":a.panel?a.panelId:void 0,disabled:l||void 0,autoFocus:i,onKeyDown:w,onKeyUp:b,onClick:E,onMouseDown:k},j,N,P),F=(0,ew.l)(),A=(0,ea.z)(()=>{let e=a.panel;e&&(0,tK.E)(F.current,{[ew.N.Forwards]:()=>(0,tG.jA)(e,tG.TO.First),[ew.N.Backwards]:()=>(0,tG.jA)(e,tG.TO.Last)})===tG.fE.Error&&(0,tG.jA)((0,tG.GO)().filter(e=>"true"!==e.dataset.headlessuiFocusGuard),(0,tK.E)(F.current,{[ew.N.Forwards]:tG.TO.Next,[ew.N.Backwards]:tG.TO.Previous}),{relativeTo:a.button})});return s.createElement(s.Fragment,null,(0,tY.sY)({ourProps:I,theirProps:o,slot:L,defaultTag:"button",name:"Popover.Button"}),T&&!h&&u&&s.createElement(tZ._,{id:f,ref:a.afterButtonSentinel,features:tZ.x.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:A}))}),Overlay:(0,tY.yV)(function(e,t){let n=(0,s.useId)(),{id:r=`headlessui-popover-overlay-${n}`,...l}=e,[{popoverState:i},o]=t5("Popover.Overlay"),a=(0,ey.T)(t),c=(0,tq.oJ)(),u=null!==c?(c&tq.ZM.Open)===tq.ZM.Open:0===i,d=(0,ea.z)(e=>{if(tU(e.currentTarget))return e.preventDefault();o({type:1})}),f=(0,s.useMemo)(()=>({open:0===i}),[i]);return(0,tY.sY)({ourProps:{ref:a,id:r,"aria-hidden":!0,onClick:d},theirProps:l,slot:f,defaultTag:"div",features:ne,visible:u,name:"Popover.Overlay"})}),Panel:(0,tY.yV)(function(e,t){let n=(0,s.useId)(),{id:r=`headlessui-popover-panel-${n}`,focus:l=!1,anchor:i,portal:o=!1,modal:a=!1,...c}=e,[u,d]=t5("Popover.Panel"),{close:f,isPortalled:p}=t3("Popover.Panel"),m=`headlessui-focus-sentinel-before-${n}`,h=`headlessui-focus-sentinel-after-${n}`,v=(0,s.useRef)(null),g=(0,s.useMemo)(()=>i?"string"==typeof i?{to:i}:i:null,[i]),[x,y]=function(e=null){!1===e&&(e=null),"string"==typeof e&&(e={to:e});let t=(0,s.useContext)(t$),n=(0,s.useMemo)(()=>e,[JSON.stringify(e,"undefined"!=typeof HTMLElement?(e,t)=>t instanceof HTMLElement?t.outerHTML:t:void 0)]);(0,ec.e)(()=>{null==t||t(null!=n?n:null)},[t,n]);let r=(0,s.useContext)(tH);return(0,s.useMemo)(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}(g),w=function(){let{getFloatingProps:e,slot:t}=(0,s.useContext)(tH);return(0,s.useCallback)((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}();g&&(o=!0);let b=(0,ey.T)(v,t,g?x:null,e=>{d({type:4,panel:e})}),E=(0,em.i)(v),k=(0,tY.Y2)();(0,ec.e)(()=>(d({type:5,panelId:r}),()=>{d({type:5,panelId:null})}),[r,d]);let C=(0,tq.oJ)(),j=null!==C?(C&tq.ZM.Open)===tq.ZM.Open:0===u.popoverState;(0,ef.m)(u.button,()=>d({type:1}),j),(0,ex.P)(E,!u.__demoMode&&a&&j);let S=(0,ea.z)(e=>{var t;if(e.key===tX.R.Escape){if(0!==u.popoverState||!v.current||null!=E&&E.activeElement&&!v.current.contains(E.activeElement))return;e.preventDefault(),e.stopPropagation(),d({type:1}),null==(t=u.button)||t.focus()}}),N=(0,s.useMemo)(()=>({open:0===u.popoverState,close:f}),[u,f]),M=(0,tY.dG)(g?w():{},{ref:b,id:r,onKeyDown:S,onBlur:l&&0===u.popoverState?e=>{var t,n,r,l,i;let o=e.relatedTarget;o&&v.current&&(null!=(t=v.current)&&t.contains(o)||(d({type:1}),(null!=(r=null==(n=u.beforePanelSentinel.current)?void 0:n.contains)&&r.call(n,o)||null!=(i=null==(l=u.afterPanelSentinel.current)?void 0:l.contains)&&i.call(l,o))&&o.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...y,"--button-width":function(e,t=!1){let n=null===e?null:"current"in e?e.current:e,[r,l]=(0,s.useReducer)(()=>({}),{}),i=(0,s.useMemo)(()=>(function(e){if(null===e)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}})(n),[n,r]);return(0,ec.e)(()=>{if(!n)return;let e=new ResizeObserver(l);return e.observe(n),()=>{e.disconnect()}},[n]),t?{width:`${i.width}px`,height:`${i.height}px`}:i}(u.button,!0).width}}),P=(0,ew.l)(),T=(0,ea.z)(()=>{let e=v.current;e&&(0,tK.E)(P.current,{[ew.N.Forwards]:()=>{var t;(0,tG.jA)(e,tG.TO.First)===tG.fE.Error&&(null==(t=u.afterPanelSentinel.current)||t.focus())},[ew.N.Backwards]:()=>{var e;null==(e=u.button)||e.focus({preventScroll:!0})}})}),L=(0,ea.z)(()=>{let e=v.current;e&&(0,tK.E)(P.current,{[ew.N.Forwards]:()=>{var e;if(!u.button)return;let t=(0,tG.GO)(),n=t.indexOf(u.button),r=t.slice(0,n+1),l=[...t.slice(n+1),...r];for(let t of l.slice())if("true"===t.dataset.headlessuiFocusGuard||null!=(e=u.panel)&&e.contains(t)){let e=l.indexOf(t);-1!==e&&l.splice(e,1)}(0,tG.jA)(l,tG.TO.First,{sorted:!1})},[ew.N.Backwards]:()=>{var t;(0,tG.jA)(e,tG.TO.Previous)===tG.fE.Error&&(null==(t=u.button)||t.focus())}})});return s.createElement(t6.Provider,{value:r},s.createElement(t4.Provider,{value:{close:f,isPortalled:p}},s.createElement(tJ.h_,{enabled:!!o&&(e.static||j)},j&&p&&s.createElement(tZ._,{id:m,ref:u.beforePanelSentinel,features:tZ.x.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:T}),(0,tY.sY)({mergeRefs:k,ourProps:M,theirProps:c,slot:N,defaultTag:"div",features:nt,visible:j,name:"Popover.Panel"}),j&&p&&s.createElement(tZ._,{id:h,ref:u.afterPanelSentinel,features:tZ.x.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:L}))))}),Group:(0,tY.yV)(function(e,t){let n=(0,s.useRef)(null),r=(0,ey.T)(n,t),[l,i]=(0,s.useState)([]),o=(0,eg.H)(),a=(0,ea.z)(e=>{i(t=>{let n=t.indexOf(e);if(-1!==n){let e=t.slice();return e.splice(n,1),e}return t})}),c=(0,ea.z)(e=>(i(t=>[...t,e]),()=>a(e))),u=(0,ea.z)(()=>{var e;let t=(0,ei.r)(n);if(!t)return!1;let r=t.activeElement;return!!(null!=(e=n.current)&&e.contains(r))||l.some(e=>{var n,l;return(null==(n=t.getElementById(e.buttonId.current))?void 0:n.contains(r))||(null==(l=t.getElementById(e.panelId.current))?void 0:l.contains(r))})}),d=(0,ea.z)(e=>{for(let t of l)t.buttonId.current!==e&&t.close()}),f=(0,s.useMemo)(()=>({registerPopover:c,unregisterPopover:a,isFocusWithinPopoverGroup:u,closeOthers:d,mainTreeNodeRef:o.mainTreeNodeRef}),[c,a,u,d,o.mainTreeNodeRef]),p=(0,s.useMemo)(()=>({}),[]);return s.createElement(t9.Provider,{value:f},(0,tY.sY)({ourProps:{ref:r},theirProps:e,slot:p,defaultTag:"div",name:"Popover.Group"}),s.createElement(o.MainTreeNode,null))})});var nr=n(3497),nl=n(6899),ni=n(6907);let no=(0,s.createContext)(void 0);function na(){return(0,s.useContext)(no)}var ns=n(3307),nc=n(1456);let nu=(0,s.createContext)(null);function nd(e){var t,n,r;let l=null!=(n=null==(t=(0,s.useContext)(nu))?void 0:t.value)?n:void 0;return(null!=(r=null==e?void 0:e.length)?r:0)>0?[l,...e].filter(Boolean).join(" "):l}nu.displayName="LabelContext";let nf=Object.assign((0,tY.yV)(function(e,t){var n;let r=(0,s.useId)(),l=function e(){let t=(0,s.useContext)(nu);if(null===t){let t=Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,e),t}return t}(),i=na(),o=(0,nl.B)(),{id:a=`headlessui-label-${r}`,htmlFor:c=null!=i?i:null==(n=l.props)?void 0:n.htmlFor,passive:u=!1,...d}=e,f=(0,ey.T)(t);(0,ec.e)(()=>l.register(a),[a,l.register]);let p=(0,ea.z)(e=>{let t=e.currentTarget;if(t instanceof HTMLLabelElement&&e.preventDefault(),l.props&&"onClick"in l.props&&"function"==typeof l.props.onClick&&l.props.onClick(e),t instanceof HTMLLabelElement){let e=document.getElementById(t.htmlFor);if(e){let t=e.getAttribute("disabled");if("true"===t||""===t)return;let n=e.getAttribute("aria-disabled");if("true"===n||""===n)return;(e instanceof HTMLInputElement&&("radio"===e.type||"checkbox"===e.type)||"radio"===e.role||"checkbox"===e.role||"switch"===e.role)&&e.click(),e.focus({preventScroll:!0})}}}),m=o||!1,h=(0,s.useMemo)(()=>({...l.slot,disabled:m}),[l.slot,m]),v={ref:f,...l.props,id:a,htmlFor:c,onClick:p};return u&&("onClick"in v&&(delete v.htmlFor,delete v.onClick),"onClick"in d&&delete d.onClick),(0,tY.sY)({ourProps:v,theirProps:d,slot:h,defaultTag:c?"label":"div",name:l.name||"Label"})}),{}),np=(0,s.createContext)(null);np.displayName="GroupContext";let nm=s.Fragment,nh=Object.assign((0,tY.yV)(function(e,t){var n;let r=(0,s.useId)(),l=na(),i=(0,nl.B)(),{id:o=l||`headlessui-switch-${r}`,disabled:a=i||!1,checked:c,defaultChecked:u,onChange:d,name:f,value:p,form:m,autoFocus:h=!1,...v}=e,g=(0,s.useContext)(np),x=(0,s.useRef)(null),y=(0,ey.T)(x,t,null===g?null:g.setSwitch),w=function(e){let[t]=(0,s.useState)(e);return t}(u),[b,E]=function(e,t,n){let[r,l]=(0,s.useState)(n),i=void 0!==e,o=(0,s.useRef)(i),a=(0,s.useRef)(!1),c=(0,s.useRef)(!1);return!i||o.current||a.current?i||!o.current||c.current||(c.current=!0,o.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(a.current=!0,o.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[i?e:r,(0,ea.z)(e=>(i||l(e),null==t?void 0:t(e)))]}(c,d,null!=w&&w),k=(0,eo.G)(),[C,j]=(0,s.useState)(!1),S=(0,ea.z)(()=>{j(!0),null==E||E(!b),k.nextFrame(()=>{j(!1)})}),N=(0,ea.z)(e=>{if(tU(e.currentTarget))return e.preventDefault();e.preventDefault(),S()}),M=(0,ea.z)(e=>{e.key===tX.R.Space?(e.preventDefault(),S()):e.key===tX.R.Enter&&(0,ns.g)(e.currentTarget)}),P=(0,ea.z)(e=>e.preventDefault()),T=nd(),L=(0,nc.zH)(),{isFocusVisible:R,focusProps:I}=J({autoFocus:h}),{isHovered:F,hoverProps:A}=el({isDisabled:a}),{pressed:O,pressProps:z}=es({disabled:a}),_=(0,s.useMemo)(()=>({checked:b,disabled:a,hover:F,focus:R,active:O,autofocus:h,changing:C}),[b,F,R,O,a,C,h]),D=(0,tY.dG)({id:o,ref:y,role:"switch",type:ev(e,x),tabIndex:-1===e.tabIndex?0:null!=(n=e.tabIndex)?n:0,"aria-checked":b,"aria-labelledby":T,"aria-describedby":L,disabled:a||void 0,autoFocus:h,onClick:N,onKeyUp:M,onKeyPress:P},I,A,z),H=(0,s.useCallback)(()=>{if(void 0!==w)return null==E?void 0:E(w)},[E,w]);return s.createElement(s.Fragment,null,null!=f&&s.createElement(ni.Mt,{disabled:a,data:{[f]:p||"on"},overrides:{type:"checkbox",checked:b},form:m,onReset:H}),(0,tY.sY)({ourProps:D,theirProps:v,slot:_,defaultTag:"button",name:"Switch"}))}),{Group:function(e){var t;let[n,r]=(0,s.useState)(null),[l,i]=function({inherit:e=!1}={}){let t=nd(),[n,r]=(0,s.useState)([]),l=e?[t,...n].filter(Boolean):n;return[l.length>0?l.join(" "):void 0,(0,s.useMemo)(()=>function(e){let t=(0,ea.z)(e=>(r(t=>[...t,e]),()=>r(t=>{let n=t.slice(),r=n.indexOf(e);return -1!==r&&n.splice(r,1),n}))),n=(0,s.useMemo)(()=>({register:t,slot:e.slot,name:e.name,props:e.props,value:e.value}),[t,e.slot,e.name,e.props,e.value]);return s.createElement(nu.Provider,{value:n},e.children)},[r])]}(),[o,a]=(0,nc.fw)(),c=(0,s.useMemo)(()=>({switch:n,setSwitch:r}),[n,r]);return s.createElement(a,{name:"Switch.Description",value:o},s.createElement(i,{name:"Switch.Label",value:l,props:{htmlFor:null==(t=c.switch)?void 0:t.id,onClick(e){n&&(e.currentTarget instanceof HTMLLabelElement&&e.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},s.createElement(np.Provider,{value:c},(0,tY.sY)({ourProps:{},theirProps:e,slot:{},defaultTag:nm,name:"Switch.Group"}))))},Label:nf,Description:nc.dk}),nv=s.forwardRef(function({title:e="YouTube",color:t="currentColor",size:n=24,...r},l){return"default"===t&&(t="#FF0000"),(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:t,viewBox:"0 0 24 24",ref:l,...r,children:[(0,a.jsx)("title",{children:e}),(0,a.jsx)("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})]})}),ng=s.forwardRef(function({title:e="Reddit",color:t="currentColor",size:n=24,...r},l){return"default"===t&&(t="#FF4500"),(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:t,viewBox:"0 0 24 24",ref:l,...r,children:[(0,a.jsx)("title",{children:e}),(0,a.jsx)("path",{d:"M12 0C5.373 0 0 5.373 0 12c0 3.314 1.343 6.314 3.515 8.485l-2.286 2.286C.775 23.225 1.097 24 1.738 24H12c6.627 0 12-5.373 12-12S18.627 0 12 0Zm4.388 3.199c1.104 0 1.999.895 1.999 1.999 0 1.105-.895 2-1.999 2-.946 0-1.739-.657-1.947-1.539v.002c-1.147.162-2.032 1.15-2.032 2.341v.007c1.776.067 3.4.567 4.686 1.363.473-.363 1.064-.58 1.707-.58 1.547 0 2.802 1.254 2.802 2.802 0 1.117-.655 2.081-1.601 2.531-.088 3.256-3.637 5.876-7.997 5.876-4.361 0-7.905-2.617-7.998-5.87-.954-.447-1.614-1.415-1.614-2.538 0-1.548 1.255-2.802 2.803-2.802.645 0 1.239.218 1.712.585 1.275-.79 2.881-1.291 4.64-1.365v-.01c0-1.663 1.263-3.034 2.88-3.207.188-.911.993-1.595 1.959-1.595Zm-8.085 8.376c-.784 0-1.459.78-1.506 1.797-.047 1.016.64 1.429 1.426 1.429.786 0 1.371-.369 1.418-1.385.047-1.017-.553-1.841-1.338-1.841Zm7.406 0c-.786 0-1.385.824-1.338 1.841.047 1.017.634 1.385 1.418 1.385.785 0 1.473-.413 1.426-1.429-.046-1.017-.721-1.797-1.506-1.797Zm-3.703 4.013c-.974 0-1.907.048-2.77.135-.147.015-.241.168-.183.305.483 1.154 1.622 1.964 2.953 1.964 1.33 0 2.47-.81 2.953-1.964.057-.137-.037-.29-.184-.305-.863-.087-1.795-.135-2.769-.135Z"})]})}),nx=()=>a.jsx("button",{type:"button",className:"p-2 text-white/50 rounded-xl hover:bg-[#1c1c1c] transition duration-200 hover:text-white",children:a.jsx(C,{})}),ny=[{key:"webSearch",title:"All",description:"Searches across all of the internet",icon:a.jsx(j,{size:20})},{key:"academicSearch",title:"Academic",description:"Search in published academic papers",icon:a.jsx(S,{size:20})},{key:"writingAssistant",title:"Writing",description:"Chat without searching the web",icon:a.jsx(N,{size:16})},{key:"wolframAlphaSearch",title:"Wolfram Alpha",description:"Computational knowledge engine",icon:a.jsx(M,{size:20})},{key:"youtubeSearch",title:"Youtube",description:"Search and watch videos",icon:a.jsx(nv,{className:"h-5 w-auto mr-0.5",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0})},{key:"redditSearch",title:"Reddit",description:"Search for discussions and opinions",icon:a.jsx(ng,{className:"h-5 w-auto mr-0.5",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0})}],nw=({focusMode:e,setFocusMode:t})=>(0,a.jsxs)(nn,{className:"fixed w-full max-w-[15rem] md:max-w-md lg:max-w-lg",children:[a.jsx(nn.Button,{type:"button",className:"p-2 text-white/50 rounded-xl hover:bg-[#1c1c1c] active:scale-95 transition duration-200 hover:text-white",children:"webSearch"!==e?(0,a.jsxs)("div",{className:"flex flex-row items-center space-x-1",children:[ny.find(t=>t.key===e)?.icon,a.jsx("p",{className:"text-xs font-medium",children:ny.find(t=>t.key===e)?.title}),a.jsx(P,{size:20})]}):a.jsx(T,{})}),a.jsx(nr.u,{as:s.Fragment,enter:"transition ease-out duration-150",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:a.jsx(nn.Panel,{className:"absolute z-10 w-full",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-1 bg-[#0A0A0A] border rounded-lg border-[#1c1c1c] w-full p-2 max-h-[200px] md:max-h-none overflow-y-auto",children:ny.map((n,r)=>(0,a.jsxs)(nn.Button,{onClick:()=>t(n.key),className:(0,h.cn)("p-2 rounded-lg flex flex-col items-start justify-start text-start space-y-2 duration-200 cursor-pointer transition",e===n.key?"bg-[#111111]":"hover:bg-[#111111]"),children:[(0,a.jsxs)("div",{className:(0,h.cn)("flex flex-row items-center space-x-1",e===n.key?"text-[#24A0ED]":"text-white"),children:[n.icon,a.jsx("p",{className:"text-sm font-medium",children:n.title})]}),a.jsx("p",{className:"text-white/70 text-xs",children:n.description})]},r))})})})]}),nb=({copilotEnabled:e,setCopilotEnabled:t})=>(0,a.jsxs)("div",{className:"group flex flex-row items-center space-x-1 active:scale-95 duration-200 transition cursor-pointer",children:[(0,a.jsxs)(nh,{checked:e,onChange:t,className:"bg-[#111111] border border-[#1C1C1C] relative inline-flex h-5 w-10 sm:h-6 sm:w-11 items-center rounded-full",children:[a.jsx("span",{className:"sr-only",children:"Copilot"}),a.jsx("span",{className:(0,h.cn)(e?"translate-x-6 bg-[#24A0ED]":"translate-x-1 bg-white/50","inline-block h-3 w-3 sm:h-4 sm:w-4 transform rounded-full transition-all duration-200")})]}),a.jsx("p",{onClick:()=>t(!e),className:(0,h.cn)("text-xs font-medium transition-colors duration-150 ease-in-out",e?"text-[#24A0ED]":"text-white/50 group-hover:text-white"),children:"Copilot"})]}),nE=({sendMessage:e,loading:t})=>{let[n,r]=(0,s.useState)(!1),[l,i]=(0,s.useState)(""),[o,c]=(0,s.useState)(1),[u,d]=(0,s.useState)("single");return(0,s.useEffect)(()=>{o>=2&&l&&"single"===u?d("multi"):l||"multi"!==u||d("single")},[o,u,l]),(0,a.jsxs)("form",{onSubmit:n=>{t||(n.preventDefault(),e(l),i(""))},onKeyDown:n=>{"Enter"!==n.key||n.shiftKey||t||(n.preventDefault(),e(l),i(""))},className:(0,h.cn)("bg-[#111111] p-4 flex items-center overflow-hidden border border-[#1C1C1C]","multi"===u?"flex-col rounded-lg":"flex-row rounded-full"),children:["single"===u&&a.jsx(nx,{}),a.jsx(k,{value:l,onChange:e=>i(e.target.value),onHeightChange:(e,t)=>{c(Math.ceil(e/t.rowHeight))},className:"transition bg-transparent placeholder:text-white/50 placeholder:text-sm text-sm text-white resize-none focus:outline-none w-full px-2 max-h-24 lg:max-h-36 xl:max-h-48 flex-grow flex-shrink",placeholder:"Ask a follow-up"}),"single"===u&&(0,a.jsxs)("div",{className:"flex flex-row items-center space-x-4",children:[a.jsx(nb,{copilotEnabled:n,setCopilotEnabled:r}),a.jsx("button",{disabled:0===l.trim().length||t,className:"bg-[#24A0ED] text-white disabled:text-white/50 hover:bg-opacity-85 transition duration-100 disabled:bg-[#ececec21] rounded-full p-2",children:a.jsx(g,{className:"bg-background",size:17})})]}),"multi"===u&&(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between w-full pt-2",children:[a.jsx(nx,{}),(0,a.jsxs)("div",{className:"flex flex-row items-center space-x-4",children:[a.jsx(nb,{copilotEnabled:n,setCopilotEnabled:r}),a.jsx("button",{disabled:0===l.trim().length||t,className:"bg-[#24A0ED] text-white disabled:text-white/50 hover:bg-opacity-85 transition duration-100 disabled:bg-[#ececec21] rounded-full p-2",children:a.jsx(g,{className:"bg-background",size:17})})]})]})]})},nk=(0,d.Z)("BookCopy",[["path",{d:"M2 16V4a2 2 0 0 1 2-2h11",key:"spzkk5"}],["path",{d:"M5 14H4a2 2 0 1 0 0 4h1",key:"16gqf9"}],["path",{d:"M22 18H11a2 2 0 1 0 0 4h11V6H11a2 2 0 0 0-2 2v12",key:"1owzki"}]]),nC=(0,d.Z)("Disc3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M6 12c0-1.7.7-3.2 1.8-4.2",key:"oqkarx"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M18 12c0 1.7-.7 3.2-1.8 4.2",key:"1eah9h"}]]),nj=(0,d.Z)("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]),nS=(0,d.Z)("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),nN=(0,d.Z)("Layers3",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m6.08 9.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1e5n1m"}],["path",{d:"m6.08 14.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1iwflc"}]]),nM=(0,d.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function nP(){return(nP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var nT,nL,nR=["children","options"];(function(e){e.blockQuote="0",e.breakLine="1",e.breakThematic="2",e.codeBlock="3",e.codeFenced="4",e.codeInline="5",e.footnote="6",e.footnoteReference="7",e.gfmTask="8",e.heading="9",e.headingSetext="10",e.htmlBlock="11",e.htmlComment="12",e.htmlSelfClosing="13",e.image="14",e.link="15",e.linkAngleBraceStyleDetector="16",e.linkBareUrlDetector="17",e.linkMailtoDetector="18",e.newlineCoalescer="19",e.orderedList="20",e.paragraph="21",e.ref="22",e.refImage="23",e.refLink="24",e.table="25",e.tableSeparator="26",e.text="27",e.textBolded="28",e.textEmphasized="29",e.textEscaped="30",e.textMarked="31",e.textStrikethroughed="32",e.unorderedList="33"})(nT||(nT={})),function(e){e[e.MAX=0]="MAX",e[e.HIGH=1]="HIGH",e[e.MED=2]="MED",e[e.LOW=3]="LOW",e[e.MIN=4]="MIN"}(nL||(nL={}));var nI=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","className","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce(function(e,t){return e[t.toLowerCase()]=t,e},{for:"htmlFor"}),nF={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"\xa0",quot:"“"},nA=["style","script"],nO=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,nz=/mailto:/i,n_=/\n{2,}$/,nD=/^(\s*>[\s\S]*?)(?=\n{2,})/,nH=/^ *> ?/gm,n$=/^ {2,}\n/,nB=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,nV=/^\s*(`{3,}|~{3,}) *(\S+)?([^\n]*?)?\n([\s\S]+?)\s*\1 *(?:\n *)*\n?/,nW=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,nZ=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,nq=/^(?:\n *)*\n/,nU=/\r\n?/g,nG=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,nK=/^\[\^([^\]]+)]/,nY=/\f/g,nX=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,nJ=/^\s*?\[(x|\s)\]/,nQ=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,n0=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,n1=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,n2=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,n5=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,n4=/^<!--[\s\S]*?(?:-->)/,n3=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,n9=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,n7=/^\{.*\}$/,n6=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,n8=/^<([^ >]+@[^ >]+)>/,re=/^<([^ >]+:\/[^ >]+)>/,rt=/-([a-z])?/gi,rn=/^(.*\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,rr=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,rl=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,ri=/^\[([^\]]*)\] ?\[([^\]]*)\]/,ro=/(\[|\])/g,ra=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,rs=/\t/g,rc=/(^ *\||\| *$)/g,ru=/^ *:-+: *$/,rd=/^ *:-+ *$/,rf=/^ *-+: *$/,rp="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~~.*?~~|==.*?==|.|\\n)*?)",rm=RegExp("^([*_])\\1"+rp+"\\1\\1(?!\\1)"),rh=RegExp("^([*_])"+rp+"\\1(?!\\1|\\w)"),rv=RegExp("^=="+rp+"=="),rg=RegExp("^~~"+rp+"~~"),rx=/^\\([^0-9A-Za-z\s])/,ry=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&#;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,rw=/^\n+/,rb=/^([ \t]*)/,rE=/\\([^\\])/g,rk=/ *\n+$/,rC=/(?:^|\n)( *)$/,rj="(?:\\d+\\.)",rS="(?:[*+-])";function rN(e){return"( *)("+(1===e?rj:rS)+") +"}var rM=rN(1),rP=rN(2);function rT(e){return RegExp("^"+(1===e?rM:rP))}var rL=rT(1),rR=rT(2);function rI(e){return RegExp("^"+(1===e?rM:rP)+"[^\\n]*(?:\\n(?!\\1"+(1===e?rj:rS)+" )[^\\n]*)*(\\n|$)","gm")}var rF=rI(1),rA=rI(2);function rO(e){var t=1===e?rj:rS;return RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}var rz=rO(1),r_=rO(2);function rD(e,t){var n=1===t,r=n?rz:r_,l=n?rF:rA,i=n?rL:rR;return{match:function(e,t,n){var l=rC.exec(n);return l&&(t.list||!t.inline&&!t.simple)?r.exec(e=l[1]+e):null},order:1,parse:function(e,t,r){var o=n?+e[2]:void 0,a=e[0].replace(n_,"\n").match(l),s=!1;return{items:a.map(function(e,n){var l=RegExp("^ {1,"+i.exec(e)[0].length+"}","gm"),o=e.replace(l,"").replace(i,""),c=n===a.length-1,u=-1!==o.indexOf("\n\n")||c&&s;s=u;var d,f=r.inline,p=r.list;r.list=!0,u?(r.inline=!1,d=o.replace(rk,"\n\n")):(r.inline=!0,d=o.replace(rk,""));var m=t(d,r);return r.inline=f,r.list=p,m}),ordered:n,start:o}},render:function(t,n,r){return e(t.ordered?"ol":"ul",{key:r.key,start:"20"===t.type?t.start:void 0},t.items.map(function(t,l){return e("li",{key:l},n(t,r))}))}}}var rH=RegExp("^\\[((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*\\)"),r$=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,rB=[nD,nV,nW,nQ,n1,n0,n4,rn,rF,rz,rA,r_],rV=[].concat(rB,[/^[^\n]+(?:  \n|\n{2,})/,n2,n9]);function rW(e){return e.replace(/[ÀÁÂÃÄÅàáâãäåæÆ]/g,"a").replace(/[çÇ]/g,"c").replace(/[ðÐ]/g,"d").replace(/[ÈÉÊËéèêë]/g,"e").replace(/[ÏïÎîÍíÌì]/g,"i").replace(/[Ññ]/g,"n").replace(/[øØœŒÕõÔôÓóÒò]/g,"o").replace(/[ÜüÛûÚúÙù]/g,"u").replace(/[ŸÿÝý]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function rZ(e){return rf.test(e)?"right":ru.test(e)?"center":rd.test(e)?"left":null}function rq(e,t,n,r){var l=n.inTable;n.inTable=!0;var i=e.trim().split(/( *(?:`[^`]*`|<.*?>.*?<\/.*?>(?!<\/.*?>)|\\\||\|) *)/).reduce(function(e,l){return"|"===l.trim()?e.push(r?{type:"26"}:{type:"27",text:l}):""!==l&&e.push.apply(e,t(l,n)),e},[]);n.inTable=l;var o=[[]];return i.forEach(function(e,t){"26"===e.type?0!==t&&t!==i.length-1&&o.push([]):("27"!==e.type||null!=i[t+1]&&"26"!==i[t+1].type||(e.text=e.text.trimEnd()),o[o.length-1].push(e))}),o}function rU(e,t,n){n.inline=!0;var r=e[2]?e[2].replace(rc,"").split("|").map(rZ):[],l=e[3]?e[3].trim().split("\n").map(function(e){return rq(e,t,n,!0)}):[],i=rq(e[1],t,n,!!l.length);return n.inline=!1,l.length?{align:r,cells:l,header:i,type:"25"}:{children:i,type:"21"}}function rG(e,t){return null==e.align[t]?{}:{textAlign:e.align[t]}}function rK(e){return function(t,n){return n.inline?e.exec(t):null}}function rY(e){return function(t,n){return n.inline||n.simple?e.exec(t):null}}function rX(e){return function(t,n){return n.inline||n.simple?null:e.exec(t)}}function rJ(e){return function(t){return e.exec(t)}}function rQ(e,t,n){if(t.inline||t.simple||n&&!n.endsWith("\n"))return null;var r="";e.split("\n").every(function(e){return!rB.some(function(t){return t.test(e)})&&(r+=e+"\n",e.trim())});var l=r.trimEnd();return""==l?null:[r,l]}function r0(e){try{if(decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data(?!:image)):/i))return}catch(e){return null}return e}function r1(e){return e.replace(rE,"$1")}function r2(e,t,n){var r=n.inline||!1,l=n.simple||!1;n.inline=!0,n.simple=!0;var i=e(t,n);return n.inline=r,n.simple=l,i}function r5(e,t,n){var r=n.inline||!1;n.inline=!1;var l=e(t,n);return n.inline=r,l}var r4=function(e,t,n){return{children:r2(t,e[1],n)}};function r3(){return{}}function r9(){return null}function r7(e,t,n){for(var r=e,l=t.split(".");l.length&&void 0!==(r=r[l[0]]);)l.shift();return r||n}function r6(e){var t=e.children,n=e.options,r=function(e,t){if(null==e)return{};var n,r,l={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(l[n]=e[n]);return l}(e,nR);return s.cloneElement(function(e,t){void 0===e&&(e=""),void 0===t&&(t={}),t.overrides=t.overrides||{},t.slugify=t.slugify||rW,t.namedCodesToUnicode=t.namedCodesToUnicode?nP({},nF,t.namedCodesToUnicode):nF;var n=t.createElement||s.createElement;function r(e,r){var l,i,o=r7(t.overrides,e+".props",{});return n.apply(void 0,[(i=r7(l=t.overrides,e))?"function"==typeof i||"object"==typeof i&&"render"in i?i:r7(l,e+".component",e):e,nP({},r,o,{className:function(){return[].slice.call(arguments).filter(Boolean).join(" ")}(null==r?void 0:r.className,o.className)||void 0})].concat([].slice.call(arguments,2)))}function l(e){e=e.replace(nX,"");var n=!1;t.forceInline?n=!0:t.forceBlock||(n=!1===ra.test(e));for(var l=h(m(n?e:e.trimEnd().replace(rw,"")+"\n\n",{inline:n}));"string"==typeof l[l.length-1]&&!l[l.length-1].trim();)l.pop();if(null===t.wrapper)return l;var i,o=t.wrapper||(n?"span":"div");if(l.length>1||t.forceWrapper)i=l;else{if(1===l.length)return"string"==typeof(i=l[0])?r("span",{key:"outer"},i):i;i=null}return s.createElement(o,{key:"outer"},i)}function i(e){var t=e.match(nO);return t?t.reduce(function(e,t,n){var r=t.indexOf("=");if(-1!==r){var i,o,a,c,u=(-1!==(i=t.slice(0,r)).indexOf("-")&&null===i.match(n3)&&(i=i.replace(rt,function(e,t){return t.toUpperCase()})),i).trim(),d=('"'===(a=(o=t.slice(r+1).trim())[0])||"'"===a)&&o.length>=2&&o[o.length-1]===a?o.slice(1,-1):o,f=nI[u]||u,p=e[f]=(c=d,"style"===u?c.split(/;\s?/).reduce(function(e,t){var n=t.slice(0,t.indexOf(":"));return e[n.trim().replace(/(-[a-z])/g,function(e){return e[1].toUpperCase()})]=t.slice(n.length+1).trim(),e},{}):"href"===u||"src"===u?r0(c):(c.match(n7)&&(c=c.slice(1,c.length-1)),"true"===c||"false"!==c&&c));"string"==typeof p&&(n2.test(p)||n9.test(p))&&(e[f]=s.cloneElement(l(p.trim()),{key:n}))}else"style"!==t&&(e[nI[t]||t]=!0);return e},{}):null}var o=[],a={},c=((f={})[0]={match:rX(nD),order:1,parse:function(e,t,n){return{children:t(e[0].replace(nH,""),n)}},render:function(e,t,n){return r("blockquote",{key:n.key},t(e.children,n))}},f[1]={match:rJ(n$),order:1,parse:r3,render:function(e,t,n){return r("br",{key:n.key})}},f[2]={match:rX(nB),order:1,parse:r3,render:function(e,t,n){return r("hr",{key:n.key})}},f[3]={match:rX(nW),order:0,parse:function(e){return{lang:void 0,text:e[0].replace(/^ {4}/gm,"").replace(/\n+$/,"")}},render:function(e,t,n){return r("pre",{key:n.key},r("code",nP({},e.attrs,{className:e.lang?"lang-"+e.lang:""}),e.text))}},f[4]={match:rX(nV),order:0,parse:function(e){return{attrs:i(e[3]||""),lang:e[2]||void 0,text:e[4],type:"3"}}},f[5]={match:rY(nZ),order:3,parse:function(e){return{text:e[2]}},render:function(e,t,n){return r("code",{key:n.key},e.text)}},f[6]={match:rX(nG),order:0,parse:function(e){return o.push({footnote:e[2],identifier:e[1]}),{}},render:r9},f[7]={match:rK(nK),order:1,parse:function(e){return{target:"#"+t.slugify(e[1]),text:e[1]}},render:function(e,t,n){return r("a",{key:n.key,href:r0(e.target)},r("sup",{key:n.key},e.text))}},f[8]={match:rK(nJ),order:1,parse:function(e){return{completed:"x"===e[1].toLowerCase()}},render:function(e,t,n){return r("input",{checked:e.completed,key:n.key,readOnly:!0,type:"checkbox"})}},f[9]={match:rX(t.enforceAtxHeadings?n0:nQ),order:1,parse:function(e,n,r){return{children:r2(n,e[2],r),id:t.slugify(e[2]),level:e[1].length}},render:function(e,t,n){return r("h"+e.level,{id:e.id,key:n.key},t(e.children,n))}},f[10]={match:rX(n1),order:0,parse:function(e,t,n){return{children:r2(t,e[1],n),level:"="===e[2]?1:2,type:"9"}}},f[11]={match:rJ(n2),order:1,parse:function(e,t,n){var r=RegExp("^"+e[3].match(rb)[1],"gm"),l=e[3].replace(r,""),o=rV.some(function(e){return e.test(l)})?r5:r2,a=e[1].toLowerCase(),s=-1!==nA.indexOf(a),c={attrs:i(e[2]),noInnerParse:s,tag:(s?a:e[1]).trim()};return n.inAnchor=n.inAnchor||"a"===a,s?c.text=e[3]:c.children=o(t,l,n),n.inAnchor=!1,c},render:function(e,t,n){return r(e.tag,nP({key:n.key},e.attrs),e.text||t(e.children,n))}},f[13]={match:rJ(n9),order:1,parse:function(e){return{attrs:i(e[2]||""),tag:e[1].trim()}},render:function(e,t,n){return r(e.tag,nP({},e.attrs,{key:n.key}))}},f[12]={match:rJ(n4),order:1,parse:function(){return{}},render:r9},f[14]={match:rY(r$),order:1,parse:function(e){return{alt:e[1],target:r1(e[2]),title:e[3]}},render:function(e,t,n){return r("img",{key:n.key,alt:e.alt||void 0,title:e.title||void 0,src:r0(e.target)})}},f[15]={match:rK(rH),order:3,parse:function(e,t,n){var r,l,i,o;return{children:(r=e[1],l=n.inline||!1,i=n.simple||!1,n.inline=!1,n.simple=!0,o=t(r,n),n.inline=l,n.simple=i,o),target:r1(e[2]),title:e[3]}},render:function(e,t,n){return r("a",{key:n.key,href:r0(e.target),title:e.title},t(e.children,n))}},f[16]={match:rK(re),order:0,parse:function(e){return{children:[{text:e[1],type:"27"}],target:e[1],type:"15"}}},f[17]={match:function(e,t){return t.inAnchor?null:rK(n6)(e,t)},order:0,parse:function(e){return{children:[{text:e[1],type:"27"}],target:e[1],title:void 0,type:"15"}}},f[18]={match:rK(n8),order:0,parse:function(e){var t=e[1],n=e[1];return nz.test(n)||(n="mailto:"+n),{children:[{text:t.replace("mailto:",""),type:"27"}],target:n,type:"15"}}},f[20]=rD(r,1),f[33]=rD(r,2),f[19]={match:rX(nq),order:3,parse:r3,render:function(){return"\n"}},f[21]={match:rQ,order:3,parse:r4,render:function(e,t,n){return r("p",{key:n.key},t(e.children,n))}},f[22]={match:rK(rr),order:0,parse:function(e){return a[e[1]]={target:e[2],title:e[4]},{}},render:r9},f[23]={match:rY(rl),order:0,parse:function(e){return{alt:e[1]||void 0,ref:e[2]}},render:function(e,t,n){return a[e.ref]?r("img",{key:n.key,alt:e.alt,src:r0(a[e.ref].target),title:a[e.ref].title}):null}},f[24]={match:rK(ri),order:0,parse:function(e,t,n){return{children:t(e[1],n),fallbackChildren:t(e[0].replace(ro,"\\$1"),n),ref:e[2]}},render:function(e,t,n){return a[e.ref]?r("a",{key:n.key,href:r0(a[e.ref].target),title:a[e.ref].title},t(e.children,n)):r("span",{key:n.key},t(e.fallbackChildren,n))}},f[25]={match:rX(rn),order:1,parse:rU,render:function(e,t,n){return r("table",{key:n.key},r("thead",null,r("tr",null,e.header.map(function(l,i){return r("th",{key:i,style:rG(e,i)},t(l,n))}))),r("tbody",null,e.cells.map(function(l,i){return r("tr",{key:i},l.map(function(l,i){return r("td",{key:i,style:rG(e,i)},t(l,n))}))})))}},f[27]={match:rJ(ry),order:4,parse:function(e){return{text:e[0].replace(n5,function(e,n){return t.namedCodesToUnicode[n]?t.namedCodesToUnicode[n]:e})}},render:function(e){return e.text}},f[28]={match:rY(rm),order:2,parse:function(e,t,n){return{children:t(e[2],n)}},render:function(e,t,n){return r("strong",{key:n.key},t(e.children,n))}},f[29]={match:rY(rh),order:3,parse:function(e,t,n){return{children:t(e[2],n)}},render:function(e,t,n){return r("em",{key:n.key},t(e.children,n))}},f[30]={match:rY(rx),order:1,parse:function(e){return{text:e[1],type:"27"}}},f[31]={match:rY(rv),order:3,parse:r4,render:function(e,t,n){return r("mark",{key:n.key},t(e.children,n))}},f[32]={match:rY(rg),order:3,parse:r4,render:function(e,t,n){return r("del",{key:n.key},t(e.children,n))}},f);!0===t.disableParsingRawHTML&&(delete c[11],delete c[13]);var u,d,f,p,m=((u=Object.keys(c)).sort(function(e,t){var n=c[e].order,r=c[t].order;return n!==r?n-r:e<t?-1:1}),function(e,t){return function e(t,n){for(var r=[],l="";t;)for(var i=0;i<u.length;){var o=u[i],a=c[o],s=a.match(t,n,l);if(s){var d=s[0];t=t.substring(d.length);var f=a.parse(s,e,n);null==f.type&&(f.type=o),r.push(f),l=d;break}i++}return r}(e.replace(nU,"\n").replace(nY,"").replace(rs,"    "),t)}),h=(d=t.renderRule,p=function(e,t,n){var r=c[e.type].render;return d?d(function(){return r(e,t,n)},e,t,n):r(e,t,n)},function e(t,n){if(void 0===n&&(n={}),Array.isArray(t)){for(var r=n.key,l=[],i=!1,o=0;o<t.length;o++){n.key=o;var a=e(t[o],n),s="string"==typeof a;s&&i?l[l.length-1]+=a:null!==a&&l.push(a),i=s}return n.key=r,l}return p(t,e,n)}),v=l(e);return o.length?r("div",null,v,r("footer",{key:"footer"},o.map(function(e){return r("div",{id:t.slugify(e.identifier),key:e.identifier},e.identifier,h(m(e.footnote,{inline:!0})))}))):v}(void 0===t?"":t,n),r)}/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r8=(0,d.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),le=(0,d.Z)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),lt=({message:e,initialMessage:t})=>{let[n,r]=(0,s.useState)(!1);return a.jsx("button",{onClick:()=>{let n=`${t}${e.sources&&e.sources.length>0&&`

Citations:
${e.sources?.map((e,t)=>`[${t+1}] ${e.metadata.url}`).join(`
`)}`}`;navigator.clipboard.writeText(n),r(!0),setTimeout(()=>r(!1),1e3)},className:"p-2 text-white/70 rounded-xl hover:bg-[#1c1c1c] transition duration-200 hover:text-white",children:n?a.jsx(r8,{size:18}):a.jsx(le,{size:18})})},ln=(0,d.Z)("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]),lr=({rewrite:e,messageId:t})=>(0,a.jsxs)("button",{onClick:()=>e(t),className:"py-2 px-3 text-white/70 rounded-xl hover:bg-[#1c1c1c] transition duration-200 hover:text-white flex flex-row items-center space-x-1",children:[a.jsx(ln,{size:18}),a.jsx("p",{className:"text-xs font-medium",children:"Rewrite"})]});var ll=n(9573);let li=({sources:e})=>{let[t,n]=(0,s.useState)(!1);return(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2",children:[e.slice(0,3).map((e,t)=>(0,a.jsxs)("a",{className:"bg-[#111111] hover:bg-[#1c1c1c] transition duration-200 rounded-lg p-3 flex flex-col space-y-2 font-medium",href:e.metadata.url,target:"_blank",children:[a.jsx("p",{className:"text-white text-xs overflow-hidden whitespace-nowrap text-ellipsis",children:e.metadata.title}),(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center space-x-1",children:[a.jsx("img",{src:`https://s2.googleusercontent.com/s2/favicons?domain_url=${e.metadata.url}`,width:16,height:16,alt:"favicon",className:"rounded-lg h-4 w-4"}),a.jsx("p",{className:"text-xs text-white/50 overflow-hidden whitespace-nowrap text-ellipsis",children:e.metadata.url.replace(/.+\/\/|www.|\..+/g,"")})]}),(0,a.jsxs)("div",{className:"flex flex-row items-center space-x-1 text-white/50 text-xs",children:[a.jsx("div",{className:"bg-white/50 h-[4px] w-[4px] rounded-full"}),a.jsx("span",{children:t+1})]})]})]},t)),e.length>3&&(0,a.jsxs)("button",{onClick:()=>{n(!0),document.body.classList.add("overflow-hidden-scrollable")},className:"bg-[#111111] hover:bg-[#1c1c1c] transition duration-200 rounded-lg px-4 py-2 flex flex-col justify-between space-y-2",children:[a.jsx("div",{className:"flex flex-row items-center space-x-1",children:e.slice(3,6).map((e,t)=>a.jsx("img",{src:`https://s2.googleusercontent.com/s2/favicons?domain_url=${e.metadata.url}`,width:16,height:16,alt:"favicon",className:"rounded-lg h-4 w-4"},t))}),(0,a.jsxs)("p",{className:"text-xs text-white/50",children:["View ",e.length-3," more"]})]}),a.jsx(nr.u,{appear:!0,show:t,as:s.Fragment,children:a.jsx(ll.Vq,{as:"div",className:"relative z-50",onClose:()=>{n(!1),document.body.classList.remove("overflow-hidden-scrollable")},children:a.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:a.jsx(nr.u.Child,{as:s.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-100",leaveFrom:"opacity-100 scale-200",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)(ll.Vq.Panel,{className:"w-full max-w-md transform rounded-2xl bg-[#111111] border border-[#1c1c1c] p-6 text-left align-middle shadow-xl transition-all",children:[a.jsx(ll.Vq.Title,{className:"text-lg font-medium leading-6 text-white",children:"Sources"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 overflow-auto max-h-[300px] mt-2 pr-2",children:e.map((e,t)=>(0,a.jsxs)("a",{className:"bg-[#111111] hover:bg-[#1c1c1c] border border-[#1c1c1c] transition duration-200 rounded-lg p-3 flex flex-col space-y-2 font-medium",href:e.metadata.url,target:"_blank",children:[a.jsx("p",{className:"text-white text-xs overflow-hidden whitespace-nowrap text-ellipsis",children:e.metadata.title}),(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center space-x-1",children:[a.jsx("img",{src:`https://s2.googleusercontent.com/s2/favicons?domain_url=${e.metadata.url}`,width:16,height:16,alt:"favicon",className:"rounded-lg h-4 w-4"}),a.jsx("p",{className:"text-xs text-white/50 overflow-hidden whitespace-nowrap text-ellipsis",children:e.metadata.url.replace(/.+\/\/|www.|\..+/g,"")})]}),(0,a.jsxs)("div",{className:"flex flex-row items-center space-x-1 text-white/50 text-xs",children:[a.jsx("div",{className:"bg-white/50 h-[4px] w-[4px] rounded-full"}),a.jsx("span",{children:t+1})]})]})]},t))})]})})})})})})]})},lo=(0,d.Z)("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]),la="carousel",ls="controller",lc="portal",lu="toolbar",ld="loading",lf="error",lp="complete",lm=e=>`active-slide-${e}`;lm(ld),lm("playing"),lm(lf),lm(lp);let lh="flex_center",lv="no_scroll_padding",lg="prev",lx="next",ly="swipe",lw="close",lb="onPointerDown",lE="onPointerMove",lk="onPointerUp",lC="onPointerLeave",lj="onPointerCancel",lS="onKeyDown",lN="onWheel",lM="icon",lP="contain",lT="cover",lL="yarl__";function lR(...e){return[...e].filter(Boolean).join(" ")}function lI(e){return`${lL}${e}`}function lF(e){return`--${lL}${e}`}function lA(e,t){return`${e}${t?`_${t}`:""}`}function lO(e){return t=>lA(e,t)}function lz(...e){return()=>{e.forEach(e=>{e()})}}function l_(e,t,n){return()=>{let r=s.useContext(n);if(!r)throw Error(`${e} must be used within a ${t}.Provider`);return r}}function lD(e){return void 0===e.type||"image"===e.type}function lH(e){return"string"==typeof e?Number.parseInt(e,10):e}function l$(e){if("number"==typeof e)return{pixel:e};if("string"==typeof e){let t=lH(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function lB(e,t){var n;return e[(n=e.length)>0?(t%n+n)%n:0]}function lV(e,t){return e.length>0?lB(e,t):void 0}let lW={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[lw]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:lP,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function lZ(e,t){return{name:e,component:t}}function lq(e,t){return{module:e,children:t}}function lU(e,t,n){return e.flatMap(e=>{var r;return null!==(r=function e(t,n,r){return t.module.name===n?r(t):t.children?[lq(t.module,t.children.flatMap(t=>{var l;return null!==(l=e(t,n,r))&&void 0!==l?l:[]}))]:[t]}(e,t,n))&&void 0!==r?r:[]})}let lG=s.createContext(null),lK=l_("useDocument","DocumentContext",lG);function lY({nodeRef:e,children:t}){let n=s.useMemo(()=>{let t=t=>{var n;return(null===(n=t||e.current)||void 0===n?void 0:n.ownerDocument)||document};return{getOwnerDocument:t,getOwnerWindow:e=>{var n;return(null===(n=t(e))||void 0===n?void 0:n.defaultView)||window}}},[e]);return s.createElement(lG.Provider,{value:n},t)}let lX=s.createContext(null),lJ=l_("useEvents","EventsContext",lX);function lQ({children:e}){let[t]=s.useState({});s.useEffect(()=>()=>{Object.keys(t).forEach(e=>delete t[e])},[t]);let n=s.useMemo(()=>{let e=(e,n)=>{var r;null===(r=t[e])||void 0===r||r.splice(0,t[e].length,...t[e].filter(e=>e!==n))};return{publish:(...[e,n])=>{var r;null===(r=t[e])||void 0===r||r.forEach(e=>e(n))},subscribe:(n,r)=>(t[n]||(t[n]=[]),t[n].push(r),()=>e(n,r)),unsubscribe:e}},[t]);return s.createElement(lX.Provider,{value:n},e)}let l0=s.createContext(null),l1=l_("useLightboxProps","LightboxPropsContext",l0);function l2({children:e,...t}){return s.createElement(l0.Provider,{value:t},e)}let l5=s.createContext(null),l4=l_("useLightboxState","LightboxStateContext",l5),l3=s.createContext(null),l9=l_("useLightboxDispatch","LightboxDispatchContext",l3);function l7(e,t){switch(t.type){case"swipe":{var n;let{slides:r}=e,l=(null==t?void 0:t.increment)||0,i=e.globalIndex+l,o=(n=r.length)>0?(i%n+n)%n:0,a=lV(r,o);return{slides:r,currentIndex:o,globalIndex:i,currentSlide:a,animation:l||t.duration?{increment:l,duration:t.duration,easing:t.easing}:void 0}}case"update":if(t.slides!==e.slides||t.index!==e.currentIndex)return{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:lV(t.slides,t.index)};return e;default:throw Error("Unknown action type")}}function l6({slides:e,index:t,children:n}){let[r,l]=s.useReducer(l7,{slides:e,currentIndex:t,globalIndex:t,currentSlide:lV(e,t)});s.useEffect(()=>{l({type:"update",slides:e,index:t})},[e,t]);let i=s.useMemo(()=>({...r,state:r,dispatch:l}),[r,l]);return s.createElement(l3.Provider,{value:l},s.createElement(l5.Provider,{value:i},n))}let l8=s.createContext(null),ie=l_("useTimeouts","TimeoutsContext",l8);function it({children:e}){let[t]=s.useState([]);s.useEffect(()=>()=>{t.forEach(e=>window.clearTimeout(e)),t.splice(0,t.length)},[t]);let n=s.useMemo(()=>{let e=e=>{t.splice(0,t.length,...t.filter(t=>t!==e))};return{setTimeout:(n,r)=>{let l=window.setTimeout(()=>{e(l),n()},r);return t.push(l),l},clearTimeout:t=>{void 0!==t&&(e(t),window.clearTimeout(t))}}},[t]);return s.createElement(l8.Provider,{value:n},e)}let ir=s.forwardRef(function({label:e,className:t,icon:n,renderIcon:r,onClick:l,style:i,...o},a){var c;let{styles:u,labels:d}=l1();return s.createElement("button",{ref:a,type:"button","aria-label":null!==(c=null==d?void 0:d[e])&&void 0!==c?c:e,className:lR(lI("button"),t),onClick:l,style:{...i,...u.button},...o},r?r():s.createElement(n,{className:lI(lM),style:u.icon}))});function il(e,t){return function(e,t){let n=e=>s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...e},t);return n.displayName=e,n}(e,s.createElement("g",{fill:"currentColor"},s.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}let ii=il("Close",s.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),io=il("Previous",s.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),ia=il("Next",s.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),is=il("Loading",s.createElement(s.Fragment,null,Array.from({length:8}).map((e,t,n)=>s.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/n.length*(t+1),transform:`rotate(${360/n.length*t}, 12, 12)`})))),ic=il("Error",s.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),iu=s.useEffect;function id(){let[e,t]=s.useState(!1);return s.useEffect(()=>{var e,n;let r=null===(e=window.matchMedia)||void 0===e?void 0:e.call(window,"(prefers-reduced-motion: reduce)");t(null==r?void 0:r.matches);let l=e=>t(e.matches);return null===(n=null==r?void 0:r.addEventListener)||void 0===n||n.call(r,"change",l),()=>{var e;return null===(e=null==r?void 0:r.removeEventListener)||void 0===e?void 0:e.call(r,"change",l)}},[]),e}function ip(e,t){let n=s.useRef(),r=s.useRef(),l=id();return iu(()=>{var i,o,a;if(e.current&&void 0!==n.current&&!l){let{keyframes:l,duration:s,easing:c,onfinish:u}=t(n.current,e.current.getBoundingClientRect(),function(e){let t=0,n=0,r=0,l=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(l){let e=l[1].split(",").map(lH);6===e.length?(t=e[4],n=e[5]):16===e.length&&(t=e[12],n=e[13],r=e[14])}return{x:t,y:n,z:r}}(e.current))||{};if(l&&s){null===(i=r.current)||void 0===i||i.cancel(),r.current=void 0;try{r.current=null===(a=(o=e.current).animate)||void 0===a?void 0:a.call(o,l,{duration:s,easing:c})}catch(e){console.error(e)}r.current&&(r.current.onfinish=()=>{r.current=void 0,null==u||u()})}}n.current=void 0}),{prepareAnimation:e=>{n.current=e},isAnimationPlaying:()=>{var e;return(null===(e=r.current)||void 0===e?void 0:e.playState)==="running"}}}function im(){let e=s.useRef(null),t=s.useRef(),[n,r]=s.useState();return{setContainerRef:s.useCallback(n=>{e.current=n,t.current&&(t.current.disconnect(),t.current=void 0);let l=()=>{if(n){let e=window.getComputedStyle(n),t=e=>parseFloat(e)||0;r({width:Math.round(n.clientWidth-t(e.paddingLeft)-t(e.paddingRight)),height:Math.round(n.clientHeight-t(e.paddingTop)-t(e.paddingBottom))})}else r(void 0)};l(),n&&"undefined"!=typeof ResizeObserver&&(t.current=new ResizeObserver(l),t.current.observe(n))},[]),containerRef:e,containerRect:n}}function ih(){let e=s.useRef(),{setTimeout:t,clearTimeout:n}=ie();return s.useCallback((r,l)=>{n(e.current),e.current=t(r,l>0?l:0)},[t,n])}function iv(e){let t=s.useRef(e);return iu(()=>{t.current=e}),s.useCallback((...e)=>{var n;return null===(n=t.current)||void 0===n?void 0:n.call(t,...e)},[])}function ig(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function ix(e,t){return s.useMemo(()=>null==e&&null==t?null:n=>{ig(e,n),ig(t,n)},[e,t])}function iy(){let[e,t]=s.useState(!1);return iu(()=>{t("rtl"===window.getComputedStyle(window.document.documentElement).direction)},[]),e}function iw(e,t){let n=s.useRef(0),r=ih(),l=iv((...t)=>{n.current=Date.now(),e(t)});return s.useCallback((...e)=>{r(()=>{l(e)},t-(Date.now()-n.current))},[t,l,r])}let ib=lO("slide"),iE=lO("slide_image");function ik({slide:e,offset:t,render:n,rect:r,imageFit:l,imageProps:i,onClick:o,onLoad:a,style:c}){var u,d,f,p,m,h,v;let[g,x]=s.useState(ld),{publish:y}=lJ(),{setTimeout:w}=ie(),b=s.useRef(null);s.useEffect(()=>{0===t&&y(lm(g))},[t,g,y]);let E=iv(e=>{("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{e.parentNode&&(x(lp),w(()=>{null==a||a(e)},0))})}),k=s.useCallback(e=>{b.current=e,(null==e?void 0:e.complete)&&E(e)},[E]),C=s.useCallback(e=>{E(e.currentTarget)},[E]),j=s.useCallback(()=>{x(lf)},[]),S=e.imageFit===lT||e.imageFit!==lP&&l===lT,N=(e,t)=>Number.isFinite(e)?e:t,M=N(Math.max(...(null!==(d=null===(u=e.srcSet)||void 0===u?void 0:u.map(e=>e.width))&&void 0!==d?d:[]).concat(e.width?[e.width]:[]).filter(Boolean)),(null===(f=b.current)||void 0===f?void 0:f.naturalWidth)||0),P=N(Math.max(...(null!==(m=null===(p=e.srcSet)||void 0===p?void 0:p.map(e=>e.height))&&void 0!==m?m:[]).concat(e.height?[e.height]:[]).filter(Boolean)),(null===(h=b.current)||void 0===h?void 0:h.naturalHeight)||0),T=M&&P?{maxWidth:`min(${M}px, 100%)`,maxHeight:`min(${P}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},L=null===(v=e.srcSet)||void 0===v?void 0:v.sort((e,t)=>e.width-t.width).map(e=>`${e.src} ${e.width}w`).join(", "),{style:R,className:I,...F}=i||{};return s.createElement(s.Fragment,null,s.createElement("img",{ref:k,onLoad:C,onError:j,onClick:o,draggable:!1,className:lR(lI(iE()),S&&lI(iE("cover")),g!==lp&&lI(iE("loading")),I),style:{...T,...c,...R},...F,alt:e.alt,sizes:void 0,srcSet:L,src:e.src}),g!==lp&&s.createElement("div",{className:lI(ib("placeholder"))},g===ld&&((null==n?void 0:n.iconLoading)?n.iconLoading():s.createElement(is,{className:lR(lI(lM),lI(ib(ld)))})),g===lf&&((null==n?void 0:n.iconError)?n.iconError():s.createElement(ic,{className:lR(lI(lM),lI(ib(lf)))}))))}let iC=s.forwardRef(function({className:e,children:t,...n},r){let l=s.useRef(null);return s.createElement(lY,{nodeRef:l},s.createElement("div",{ref:ix(r,l),className:lR(lI("root"),e),...n},t))});(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(i||(i={})),function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"}(o||(o={}));let ij=lO("container"),iS=s.createContext(null),iN=l_("useController","ControllerContext",iS),iM=lZ(ls,function({children:e,...t}){var n;let{carousel:r,animation:l,controller:a,on:c,styles:u,render:d}=t,{closeOnPullUp:f,closeOnPullDown:p,preventDefaultWheelX:m,preventDefaultWheelY:h}=a,[v,g]=s.useState(),x=l4(),y=l9(),[w,b]=s.useState(i.NONE),E=s.useRef(0),k=s.useRef(0),C=s.useRef(1),{registerSensors:j,subscribeSensors:S}=function(){let[e]=s.useState({}),t=s.useCallback((t,n)=>{var r;null===(r=e[t])||void 0===r||r.forEach(e=>{n.isPropagationStopped()||e(n)})},[e]);return{registerSensors:s.useMemo(()=>({onPointerDown:e=>t(lb,e),onPointerMove:e=>t(lE,e),onPointerUp:e=>t(lk,e),onPointerLeave:e=>t(lC,e),onPointerCancel:e=>t(lj,e),onKeyDown:e=>t(lS,e),onKeyUp:e=>t("onKeyUp",e),onWheel:e=>t(lN,e)}),[t]),subscribeSensors:s.useCallback((t,n)=>(e[t]||(e[t]=[]),e[t].unshift(n),()=>{let r=e[t];r&&r.splice(0,r.length,...r.filter(e=>e!==n))}),[e])}}(),{subscribe:N,publish:M}=lJ(),P=ih(),T=ih(),L=ih(),{containerRef:R,setContainerRef:I,containerRect:F}=im(),A=ix(function({preventDefaultWheelX:e,preventDefaultWheelY:t}){let n=s.useRef(null),r=iv(n=>{let r=Math.abs(n.deltaX)>Math.abs(n.deltaY);(r&&e||!r&&t||n.ctrlKey)&&n.preventDefault()});return s.useCallback(e=>{var t;e?e.addEventListener("wheel",r,{passive:!1}):null===(t=n.current)||void 0===t||t.removeEventListener("wheel",r),n.current=e},[r])}({preventDefaultWheelX:m,preventDefaultWheelY:h}),I),O=s.useRef(null),z=ix(O,void 0),{getOwnerDocument:_}=lK(),D=iy(),H=e=>(D?-1:1)*("number"==typeof e?e:1),$=iv(()=>{var e;return null===(e=R.current)||void 0===e?void 0:e.focus()}),B=iv(()=>t),V=iv(()=>x),W=s.useCallback(e=>M(lg,e),[M]),Z=s.useCallback(e=>M(lx,e),[M]),q=s.useCallback(()=>M(lw),[M]),U=e=>!(r.finite&&(H(e)>0&&0===x.currentIndex||0>H(e)&&x.currentIndex===x.slides.length-1)),G=e=>{var t;E.current=e,null===(t=R.current)||void 0===t||t.style.setProperty(lF("swipe_offset"),`${Math.round(e)}px`)},K=e=>{var t,n;k.current=e,C.current=Math.min(Math.max(function(e,t=0){let n=10**t;return Math.round((e+Number.EPSILON)*n)/n}(1-(p&&e>0?e:f&&e<0?-e:0)/60*.5,2),.5),1),null===(t=R.current)||void 0===t||t.style.setProperty(lF("pull_offset"),`${Math.round(e)}px`),null===(n=R.current)||void 0===n||n.style.setProperty(lF("pull_opacity"),`${C.current}`)},{prepareAnimation:Y}=ip(O,(e,t,n)=>{if(O.current&&F)return{keyframes:[{transform:`translate(0, ${e.rect.y-t.y+n.y}px)`,opacity:e.opacity},{transform:"translate(0, 0)",opacity:1}],duration:e.duration,easing:l.easing.fade}}),X=(e,t)=>{if(f||p){K(e);let n=0;O.current&&(n=l.fade*(t?2:1),Y({rect:O.current.getBoundingClientRect(),opacity:C.current,duration:n})),L(()=>{K(0),b(i.NONE)},n),b(i.ANIMATION),t||q()}},{prepareAnimation:J,isAnimationPlaying:Q}=ip(O,(e,t,n)=>{var l;if(O.current&&F&&(null===(l=x.animation)||void 0===l?void 0:l.duration)){let l=l$(r.spacing),i=(l.percent?l.percent*F.width/100:l.pixel)||0;return{keyframes:[{transform:`translate(${H(x.globalIndex-e.index)*(F.width+i)+e.rect.x-t.x+n.x}px, 0)`},{transform:"translate(0, 0)"}],duration:x.animation.duration,easing:x.animation.easing}}}),ee=iv(e=>{var t,n;let r=e.offset||0,o=r?l.swipe:null!==(t=l.navigation)&&void 0!==t?t:l.swipe,a=r||Q()?l.easing.swipe:l.easing.navigation,{direction:s}=e,c=null!==(n=e.count)&&void 0!==n?n:1,u=i.ANIMATION,d=o*c;if(!s){let t=null==F?void 0:F.width,n=e.duration||0,l=t?o/t*Math.abs(r):o;0!==c?(n<l?d=d/l*Math.max(n,l/5):t&&(d=o/t*(t-Math.abs(r))),s=H(r)>0?lg:lx):d=o/2}let f=0;s===lg?U(H(1))?f=-c:(u=i.NONE,d=o):s===lx&&(U(H(-1))?f=c:(u=i.NONE,d=o)),T(()=>{G(0),b(i.NONE)},d=Math.round(d)),O.current&&J({rect:O.current.getBoundingClientRect(),index:x.globalIndex}),b(u),M(ly,{type:"swipe",increment:f,duration:d,easing:a})});s.useEffect(()=>{var e,t;(null===(e=x.animation)||void 0===e?void 0:e.increment)&&(null===(t=x.animation)||void 0===t?void 0:t.duration)&&P(()=>y({type:"swipe",increment:0}),x.animation.duration)},[x.animation,y,P]);let et=[S,U,(null==F?void 0:F.width)||0,l.swipe,()=>b(i.SWIPE),e=>G(e),(e,t)=>ee({offset:e,duration:t,count:1}),e=>ee({offset:e,count:0})],en=[()=>{p&&b(i.PULL)},e=>K(e),e=>X(e),e=>X(e,!0)];(function(e,t,n,r,l,i,a,c,u,d,f,p,m,h){var v;let g=s.useRef(0),x=s.useRef([]),y=s.useRef(),w=s.useRef(0),b=s.useRef(o.NONE),E=s.useCallback(e=>{y.current===e.pointerId&&(y.current=void 0,b.current=o.NONE);let t=x.current;t.splice(0,t.length,...t.filter(t=>t.pointerId!==e.pointerId))},[]),k=s.useCallback(e=>{E(e),e.persist(),x.current.push(e)},[E]),C=iv(e=>{k(e)}),j=(e,t)=>d&&e>t||u&&e<-t,S=iv(e=>{if(x.current.find(t=>t.pointerId===e.pointerId)&&y.current===e.pointerId){let e=Date.now()-w.current,t=g.current;b.current===o.SWIPE?Math.abs(t)>.3*n||Math.abs(t)>5&&e<r?a(t,e):c(t):b.current===o.PULL&&(j(t,60)?m(t,e):h(t)),g.current=0,b.current=o.NONE}E(e)}),N=iv(e=>{let n=x.current.find(t=>t.pointerId===e.pointerId);if(n){let r=y.current===e.pointerId;if(0===e.buttons){r&&0!==g.current?S(e):E(n);return}let a=e.clientX-n.clientX,s=e.clientY-n.clientY;if(void 0===y.current){let n=t=>{k(e),y.current=e.pointerId,w.current=Date.now(),b.current=t};Math.abs(a)>Math.abs(s)&&Math.abs(a)>30&&t(a)?(n(o.SWIPE),l()):Math.abs(s)>Math.abs(a)&&j(s,30)&&(n(o.PULL),f())}else r&&(b.current===o.SWIPE?(g.current=a,i(a)):b.current===o.PULL&&(g.current=s,p(s)))}});s.useEffect(()=>lz(e(lb,C),e(lE,N),e(lk,S),e(lC,S),e(lj,S)),[e,C,N,S,v])})(...et,f,p,...en),function(e,t,n,r,l,o,a,c,u){let d=s.useRef(0),f=s.useRef(0),p=s.useRef(),m=s.useRef(),h=s.useRef(0),v=s.useRef(0),{setTimeout:g,clearTimeout:x}=ie(),y=s.useCallback(()=>{p.current&&(x(p.current),p.current=void 0)},[x]),w=s.useCallback(()=>{m.current&&(x(m.current),m.current=void 0)},[x]),b=iv(()=>{e!==i.SWIPE&&(d.current=0,v.current=0,y(),w())});s.useEffect(b,[e,b]);let E=iv(e=>{m.current=void 0,d.current===e&&u(d.current)}),k=iv(t=>{if(!(t.ctrlKey||Math.abs(t.deltaY)>Math.abs(t.deltaX))){if(e===i.NONE){if(Math.abs(t.deltaX)<=1.2*Math.abs(h.current)){h.current=t.deltaX;return}if(n(-t.deltaX)){if(f.current+=t.deltaX,y(),Math.abs(f.current)>30)f.current=0,h.current=0,v.current=Date.now(),o();else{let e=f.current;p.current=g(()=>{p.current=void 0,e===f.current&&(f.current=0)},l)}}}else if(e===i.SWIPE){let e=d.current-t.deltaX;if(e=Math.min(Math.abs(e),r)*Math.sign(e),d.current=e,a(e),w(),Math.abs(e)>.2*r){h.current=t.deltaX,c(e,Date.now()-v.current);return}m.current=g(()=>E(e),2*l)}else h.current=t.deltaX}});s.useEffect(()=>t(lN,k),[t,k])}(w,...et);let er=iv(()=>{a.focus&&_().querySelector(`.${lI(lc)} .${lI(ij())}`)&&$()});s.useEffect(er,[er]);let el=iv(()=>{var e;null===(e=c.view)||void 0===e||e.call(c,{index:x.currentIndex})});s.useEffect(el,[x.globalIndex,el]),s.useEffect(()=>lz(N(lg,e=>ee({direction:lg,...e})),N(lx,e=>ee({direction:lx,...e})),N(ly,e=>y(e))),[N,ee,y]);let ei=s.useMemo(()=>({prev:W,next:Z,close:q,focus:$,slideRect:F?function(e,t){let n=l$(t),r=void 0!==n.percent?e.width/100*n.percent:n.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}(F,r.padding):{width:0,height:0},containerRect:F||{width:0,height:0},subscribeSensors:S,containerRef:R,setCarouselRef:z,toolbarWidth:v,setToolbarWidth:g}),[W,Z,q,$,S,F,R,z,v,g,r.padding]);return s.useImperativeHandle(a.ref,()=>({prev:W,next:Z,close:q,focus:$,getLightboxProps:B,getLightboxState:V}),[W,Z,q,$,B,V]),s.createElement("div",{ref:A,className:lR(lI(ij()),lI(lh)),style:{...w===i.SWIPE?{[lF("swipe_offset")]:`${Math.round(E.current)}px`}:null,...w===i.PULL?{[lF("pull_offset")]:`${Math.round(k.current)}px`,[lF("pull_opacity")]:`${C.current}`}:null,..."none"!==a.touchAction?{[lF("controller_touch_action")]:a.touchAction}:null,...u.container},...a.aria?{role:"presentation","aria-live":"polite"}:null,tabIndex:-1,...j},F&&s.createElement(iS.Provider,{value:ei},e,null===(n=d.controls)||void 0===n?void 0:n.call(d)))});function iP(e){return lA("slide",e)}function iT({slide:e,offset:t}){var n,r,l,i;let o;let a=s.useRef(null),{currentIndex:c}=l4(),{slideRect:u,close:d}=iN(),{render:f,carousel:{imageFit:p,imageProps:m},on:{click:h},controller:{closeOnBackdropClick:v},styles:{slide:g}}=l1();return s.createElement("div",{ref:a,className:lR(lI(iP()),0===t&&lI(iP("current")),lI(lh)),onClick:e=>{let t=a.current,n=e.target instanceof HTMLElement?e.target:void 0;v&&n&&t&&(n===t||Array.from(t.children).find(e=>e===n)&&n.classList.contains(lI("slide_wrapper")))&&d()},style:g},(!(o=null===(n=f.slide)||void 0===n?void 0:n.call(f,{slide:e,offset:t,rect:u}))&&lD(e)&&(o=s.createElement(ik,{slide:e,offset:t,render:f,rect:u,imageFit:p,imageProps:m,onClick:0===t?()=>null==h?void 0:h({index:c}):void 0})),o?s.createElement(s.Fragment,null,null===(r=f.slideHeader)||void 0===r?void 0:r.call(f,{slide:e}),(null!==(l=f.slideContainer)&&void 0!==l?l:({children:e})=>e)({slide:e,children:o}),null===(i=f.slideFooter)||void 0===i?void 0:i.call(f,{slide:e})):null))}function iL(){let e=l1().styles.slide;return s.createElement("div",{className:lI("slide"),style:e})}let iR=lZ(la,function({carousel:e}){let{slides:t,currentIndex:n,globalIndex:r}=l4(),{setCarouselRef:l}=iN(),i=l$(e.spacing),o=l$(e.padding),a=function(e,t,n=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),n))}(e,t,1),c=[];if(t.length>0)for(let l=n-a;l<=n+a;l+=1){let i=lB(t,l),o=r-n+l,a=e.finite&&(l<0||l>t.length-1);c.push(a?{key:o}:{key:[`${o}`,lD(i)?i.src:void 0].filter(Boolean).join("|"),offset:l-n,slide:i})}return s.createElement("div",{ref:l,className:lR(lI(lA(la,void 0)),c.length>0&&lI(lA(la,"with_slides"))),style:{[`${lF(lA(la,"slides_count"))}`]:c.length,[`${lF(lA(la,"spacing_px"))}`]:i.pixel||0,[`${lF(lA(la,"spacing_percent"))}`]:i.percent||0,[`${lF(lA(la,"padding_px"))}`]:o.pixel||0,[`${lF(lA(la,"padding_percent"))}`]:o.percent||0}},c.map(({key:e,slide:t,offset:n})=>t?s.createElement(iT,{key:e,slide:t,offset:n}):s.createElement(iL,{key:e})))});function iI(){let{carousel:e}=l1(),{slides:t,currentIndex:n}=l4();return{prevDisabled:0===t.length||e.finite&&0===n,nextDisabled:0===t.length||e.finite&&n===t.length-1}}function iF({label:e,icon:t,renderIcon:n,action:r,onClick:l,disabled:i,style:o}){return s.createElement(ir,{label:e,icon:t,renderIcon:n,className:lI(`navigation_${r}`),disabled:i,onClick:l,style:o,...function(e,t=!1){let n=s.useRef();return iu(()=>{t&&n.current&&(n.current=!1,e())},[t,e]),{onFocus:s.useCallback(()=>{n.current=!0},[]),onBlur:s.useCallback(()=>{n.current=!1},[])}}(iN().focus,i)})}let iA=lZ("navigation",function({render:{buttonPrev:e,buttonNext:t,iconPrev:n,iconNext:r},styles:l}){let{prev:i,next:o,subscribeSensors:a}=iN(),{prevDisabled:c,nextDisabled:u}=iI();return function(e){var t;let n=iy(),{publish:r}=lJ(),{animation:l}=l1(),{prevDisabled:i,nextDisabled:o}=iI(),a=(null!==(t=l.navigation)&&void 0!==t?t:l.swipe)/2,c=iw(()=>r(lg),a),u=iw(()=>r(lx),a),d=iv(e=>{switch(e.key){case"Escape":r(lw);break;case"ArrowLeft":(n?o:i)||(n?u:c)();break;case"ArrowRight":(n?i:o)||(n?c:u)()}});s.useEffect(()=>e(lS,d),[e,d])}(a),s.createElement(s.Fragment,null,e?e():s.createElement(iF,{label:"Previous",action:lg,icon:io,renderIcon:n,style:l.navigationPrev,disabled:c,onClick:i}),t?t():s.createElement(iF,{label:"Next",action:lx,icon:ia,renderIcon:r,style:l.navigationNext,disabled:u,onClick:o}))}),iO=lI("no_scroll"),iz=lI(lv);function i_(e,t,n){let r=window.getComputedStyle(e),l=n?"padding-left":"padding-right",i=n?r.paddingLeft:r.paddingRight,o=e.style.getPropertyValue(l);return e.style.setProperty(l,`${(lH(i)||0)+t}px`),()=>{o?e.style.setProperty(l,o):e.style.removeProperty(l)}}let iD=lZ("no-scroll",function({noScroll:{disabled:e},children:t}){let n=iy(),{getOwnerDocument:r,getOwnerWindow:l}=lK();return s.useEffect(()=>{if(e)return()=>{};let t=[],i=l(),{body:o,documentElement:a}=r(),s=Math.round(i.innerWidth-a.clientWidth);if(s>0){t.push(i_(o,s,n));let e=o.getElementsByTagName("*");for(let r=0;r<e.length;r+=1){let l=e[r];"style"in l&&"fixed"===i.getComputedStyle(l).getPropertyValue("position")&&!l.classList.contains(iz)&&t.push(i_(l,s,n))}}return o.classList.add(iO),()=>{o.classList.remove(iO),t.forEach(e=>e())}},[n,e,r,l]),s.createElement(s.Fragment,null,t)});function iH(e,t,n){let r=e.getAttribute(t);return e.setAttribute(t,n),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}let i$=lZ(lc,function({children:e,animation:t,styles:n,className:r,on:l,portal:i,close:o}){let[a,c]=s.useState(!1),[u,d]=s.useState(!1),f=s.useRef([]),p=s.useRef(null),{setTimeout:m}=ie(),{subscribe:h}=lJ(),v=id()?0:t.fade;s.useEffect(()=>(c(!0),()=>{c(!1),d(!1)}),[]);let g=iv(()=>{f.current.forEach(e=>e()),f.current=[]}),x=iv(()=>{var e;d(!1),g(),null===(e=l.exiting)||void 0===e||e.call(l),m(()=>{var e;null===(e=l.exited)||void 0===e||e.call(l),o()},v)});s.useEffect(()=>h(lw,x),[h,x]);let y=iv(e=>{var t,n,r;e.scrollTop,d(!0),null===(t=l.entering)||void 0===t||t.call(l);let i=null!==(r=null===(n=e.parentNode)||void 0===n?void 0:n.children)&&void 0!==r?r:[];for(let t=0;t<i.length;t+=1){let n=i[t];-1===["TEMPLATE","SCRIPT","STYLE"].indexOf(n.tagName)&&n!==e&&(f.current.push(iH(n,"inert","true")),f.current.push(iH(n,"aria-hidden","true")))}f.current.push(()=>{var e,t;null===(t=null===(e=p.current)||void 0===e?void 0:e.focus)||void 0===t||t.call(e)}),m(()=>{var e;null===(e=l.entered)||void 0===e||e.call(l)},v)}),w=s.useCallback(e=>{e?y(e):g()},[y,g]);return a?(0,tu.createPortal)(s.createElement(iC,{ref:w,className:lR(r,lI(lA(lc,void 0)),lI(lv),u&&lI(lA(lc,"open"))),role:"presentation","aria-live":"polite",style:{...t.fade!==lW.animation.fade?{[lF("fade_animation_duration")]:`${v}ms`}:null,...t.easing.fade!==lW.animation.easing.fade?{[lF("fade_animation_timing_function")]:t.easing.fade}:null,...n.root},onFocus:e=>{p.current||(p.current=e.relatedTarget)}},e),i.root||document.body):null}),iB=lZ("root",function({children:e}){return s.createElement(s.Fragment,null,e)}),iV=lZ(lu,function({toolbar:{buttons:e},render:{buttonClose:t,iconClose:n},styles:r}){let{close:l,setToolbarWidth:i}=iN(),{setContainerRef:o,containerRect:a}=im();iu(()=>{i(null==a?void 0:a.width)},[i,null==a?void 0:a.width]);let c=()=>t?t():s.createElement(ir,{key:lw,label:"Close",icon:ii,renderIcon:n,onClick:l});return s.createElement("div",{ref:o,style:r.toolbar,className:lI(lA(lu,void 0))},null==e?void 0:e.map(e=>e===lw?c():e))});function iW({carousel:e,animation:t,render:n,toolbar:r,controller:l,noScroll:i,on:o,plugins:a,slides:c,index:u,...d}){let{animation:f,carousel:p,render:m,toolbar:h,controller:v,noScroll:g,on:x,slides:y,index:w,plugins:b,...E}=lW,{config:k,augmentation:C}=function(e,t=[],n=[]){let r=e,l=e=>{let t=[...r];for(;t.length>0;){let n=t.pop();if((null==n?void 0:n.module.name)===e)return!0;(null==n?void 0:n.children)&&t.push(...n.children)}return!1},i=(e,t)=>{if(""===e){r=[lq(t,r)];return}r=lU(r,e,e=>[lq(t,[e])])},o=(e,t)=>{r=lU(r,e,e=>[lq(e.module,[lq(t,e.children)])])},a=(e,t,n)=>{r=lU(r,e,e=>{var r;return[lq(e.module,[...n?[lq(t)]:[],...null!==(r=e.children)&&void 0!==r?r:[],...n?[]:[lq(t)]])]})},s=(e,t,n)=>{r=lU(r,e,e=>[...n?[lq(t)]:[],e,...n?[]:[lq(t)]])},c=e=>{o(ls,e)},u=(e,t)=>{r=lU(r,e,e=>[lq(t,e.children)])},d=e=>{r=lU(r,e,e=>e.children)},f=e=>{n.push(e)};return t.forEach(e=>{e({contains:l,addParent:i,append:o,addChild:a,addSibling:s,addModule:c,replace:u,remove:d,augment:f})}),{config:r,augmentation:e=>n.reduce((e,t)=>t(e),e)}}([lq(i$,[lq(iD,[lq(iM,[lq(iR),lq(iV),lq(iA)])])])],a||b),j=C({animation:function(e,t={}){let{easing:n,...r}=e,{easing:l,...i}=t;return{easing:{...n,...l},...r,...i}}(f,t),carousel:{...p,...e},render:{...m,...n},toolbar:{...h,...r},controller:{...v,...l},noScroll:{...g,...i},on:{...x,...o},...E,...d});return j.open?s.createElement(l2,{...j},s.createElement(l6,{slides:c||y,index:lH(u||w)},s.createElement(it,null,s.createElement(lQ,null,function e(t,n){var r;return s.createElement(t.module.component,{key:t.module.name,...n},null===(r=t.children)||void 0===r?void 0:r.map(t=>e(t,n)))}(lq(iB,k),j))))):null}n(7264);let iZ=({query:e,chat_history:t})=>{let[n,r]=(0,s.useState)(null),[l,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)(!1),[u,d]=(0,s.useState)([]);return(0,a.jsxs)(a.Fragment,{children:[!l&&null===n&&(0,a.jsxs)("button",{onClick:async()=>{i(!0);let n=localStorage.getItem("chatModelProvider"),l=localStorage.getItem("chatModel"),o=await fetch(`${process.env.NEXT_PUBLIC_API_URL}/images`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,chat_history:t,chat_model_provider:n,chat_model:l})}),a=(await o.json()).images;r(a),d(a.map(e=>({src:e.img_src}))),i(!1)},className:"border border-dashed border-[#1C1C1C] hover:bg-[#1c1c1c] active:scale-95 duration-200 transition px-4 py-2 flex flex-row items-center justify-between rounded-lg text-white text-sm w-full",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[a.jsx(lo,{size:17}),a.jsx("p",{children:"Search images"})]}),a.jsx(nM,{className:"text-[#24A0ED]",size:17})]}),l&&a.jsx("div",{className:"grid grid-cols-2 gap-2",children:[void 0,void 0,void 0,void 0].map((e,t)=>a.jsx("div",{className:"bg-[#1C1C1C] h-32 w-full rounded-lg animate-pulse aspect-video object-cover"},t))}),null!==n&&n.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[n.length>4?n.slice(0,3).map((e,t)=>a.jsx("img",{onClick:()=>{c(!0),d([u[t],...u.slice(0,t),...u.slice(t+1)])},src:e.img_src,alt:e.title,className:"h-full w-full aspect-video object-cover rounded-lg transition duration-200 active:scale-95 hover:scale-[1.02] cursor-zoom-in"},t)):n.map((e,t)=>a.jsx("img",{onClick:()=>{c(!0),d([u[t],...u.slice(0,t),...u.slice(t+1)])},src:e.img_src,alt:e.title,className:"h-full w-full aspect-video object-cover rounded-lg transition duration-200 active:scale-95 hover:scale-[1.02] cursor-zoom-in"},t)),n.length>4&&(0,a.jsxs)("button",{onClick:()=>c(!0),className:"bg-[#111111] hover:bg-[#1c1c1c] transition duration-200 active:scale-95 hover:scale-[1.02] h-auto w-full rounded-lg flex flex-col justify-between text-white p-2",children:[a.jsx("div",{className:"flex flex-row items-center space-x-1",children:n.slice(3,6).map((e,t)=>a.jsx("img",{src:e.img_src,alt:e.title,className:"h-6 w-12 rounded-md lg:h-3 lg:w-6 lg:rounded-sm aspect-video object-cover"},t))}),(0,a.jsxs)("p",{className:"text-white/70 text-xs",children:["View ",n.length-3," more"]})]})]}),a.jsx(iW,{open:o,close:()=>c(!1),slides:u})]})]})},iq=(0,d.Z)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),iU=(0,d.Z)("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),iG=({query:e,chat_history:t})=>{let[n,r]=(0,s.useState)(null),[l,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)(!1),[u,d]=(0,s.useState)([]);return(0,a.jsxs)(a.Fragment,{children:[!l&&null===n&&(0,a.jsxs)("button",{onClick:async()=>{i(!0);let n=localStorage.getItem("chatModelProvider"),l=localStorage.getItem("chatModel"),o=await fetch(`${process.env.NEXT_PUBLIC_API_URL}/videos`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,chat_history:t,chat_model_provider:n,chat_model:l})}),a=(await o.json()).videos;r(a),d(a.map(e=>({type:"video-slide",iframe_src:e.iframe_src,src:e.img_src}))),i(!1)},className:"border border-dashed border-[#1C1C1C] hover:bg-[#1c1c1c] active:scale-95 duration-200 transition px-4 py-2 flex flex-row items-center justify-between rounded-lg text-white text-sm w-full",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[a.jsx(iq,{size:17}),a.jsx("p",{children:"Search videos"})]}),a.jsx(nM,{className:"text-[#24A0ED]",size:17})]}),l&&a.jsx("div",{className:"grid grid-cols-2 gap-2",children:[void 0,void 0,void 0,void 0].map((e,t)=>a.jsx("div",{className:"bg-[#1C1C1C] h-32 w-full rounded-lg animate-pulse aspect-video object-cover"},t))}),null!==n&&n.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[n.length>4?n.slice(0,3).map((e,t)=>(0,a.jsxs)("div",{onClick:()=>{c(!0),d([u[t],...u.slice(0,t),...u.slice(t+1)])},className:"relative transition duration-200 active:scale-95 hover:scale-[1.02] cursor-pointer",children:[a.jsx("img",{src:e.img_src,alt:e.title,className:"relative h-full w-full aspect-video object-cover rounded-lg"}),(0,a.jsxs)("div",{className:"absolute bg-black/70 text-white/70 px-2 py-1 flex flex-row items-center space-x-1 bottom-1 right-1 rounded-md",children:[a.jsx(iU,{size:15}),a.jsx("p",{className:"text-xs",children:"Video"})]})]},t)):n.map((e,t)=>(0,a.jsxs)("div",{onClick:()=>{c(!0),d([u[t],...u.slice(0,t),...u.slice(t+1)])},className:"relative transition duration-200 active:scale-95 hover:scale-[1.02] cursor-pointer",children:[a.jsx("img",{src:e.img_src,alt:e.title,className:"relative h-full w-full aspect-video object-cover rounded-lg"}),(0,a.jsxs)("div",{className:"absolute bg-black/70 text-white/70 px-2 py-1 flex flex-row items-center space-x-1 bottom-1 right-1 rounded-md",children:[a.jsx(iU,{size:15}),a.jsx("p",{className:"text-xs",children:"Video"})]})]},t)),n.length>4&&(0,a.jsxs)("button",{onClick:()=>c(!0),className:"bg-[#111111] hover:bg-[#1c1c1c] transition duration-200 active:scale-95 hover:scale-[1.02] h-auto w-full rounded-lg flex flex-col justify-between text-white p-2",children:[a.jsx("div",{className:"flex flex-row items-center space-x-1",children:n.slice(3,6).map((e,t)=>a.jsx("img",{src:e.img_src,alt:e.title,className:"h-6 w-12 rounded-md lg:h-3 lg:w-6 lg:rounded-sm aspect-video object-cover"},t))}),(0,a.jsxs)("p",{className:"text-white/70 text-xs",children:["View ",n.length-3," more"]})]})]}),a.jsx(iW,{open:o,close:()=>c(!1),slides:u,render:{slide:({slide:e})=>"video-slide"===e.type?a.jsx("div",{className:"h-full w-full flex flex-row items-center justify-center",children:a.jsx("iframe",{src:e.iframe_src,className:"aspect-video max-h-[95vh] w-[95vw] rounded-2xl md:w-[80vw]",allowFullScreen:!0,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"})}):null}})]})]})};function iK(){var e;"undefined"!=typeof window&&(null===(e=window.speechSynthesis)||void 0===e||e.cancel())}let iY=(e,t)=>`${""===e?"":e+"-"}${t}`,iX=e=>e.replace(/[<>]|(&[^\s;]+);/g,(e,t)=>"<"===e?"(":(t||"")+")"),iJ=[],iQ=[];function i0(e=!1,t=0,n=!1){e&&iK(),iJ.slice(t).forEach(({setSpeechStatus:e})=>e("stopped")),iJ.length=0,n&&i2()}let i1=()=>i0(!0,1);function i2(e){let t=iJ.map(({utterance:e})=>e);iQ.forEach(e=>e(t)),null==e||e(t)}function i5(e,t){let n="number"==typeof e?e:iJ.findIndex(t=>t.utterance===e);if(-1===n)return;let[r]=iJ.splice(n,1);r&&(r.setSpeechStatus("stopped"),i2(t))}function i4(){let e=iJ[0];e&&speechSynthesis.speak(e.utterance)}let i3=({message:e,messageIndex:t,history:n,loading:r,dividerRef:l,isLast:i,rewrite:o,sendMessage:c})=>{let[u,d]=(0,s.useState)(e.content),[f,p]=(0,s.useState)(e.content);(0,s.useEffect)(()=>{let t=/\[(\d+)\]/g;if("assistant"===e.role&&e?.sources&&e.sources.length>0)return d(e.content.replace(t,(t,n)=>`<a href="${e.sources?.[n-1]?.metadata?.url}" target="_blank" className="bg-[#1C1C1C] px-1 rounded ml-1 no-underline text-xs text-white/70 relative">${n}</a>`));p(e.content.replace(t,"")),d(e.content)},[e.content,e.sources,e.role]);let{speechStatus:m,start:v,stop:g}=function({text:e,pitch:t=1,rate:n=1,volume:r=1,lang:l,voiceURI:i,highlightText:o=!1,highlightProps:a,preserveUtteranceQueue:c=!1,onError:u=console.error,onStart:d,onResume:f,onPause:p,onStop:m,onBoundary:h,onQueueChange:v}){let[g,x,y]=function(e){let[t,n]=(0,s.useState)(e),r=(0,s.useRef)(e);return[t,r,function(e){r.current=e,n(e)}]}("stopped"),[w,b]=(0,s.useState)(),E=(0,s.useRef)(),[k,C]=(0,s.useMemo)(()=>{let t=function e(t){if((0,s.isValidElement)(t)){let{children:n}=t.props;return Array.isArray(n)?n.map(e):e(n)}return"string"==typeof t?t:"number"==typeof t?String(t):""}(e);return[t,JSON.stringify(t)]},[e]);function j(e=g){if("stopped"!==e){if("queued"!==e)return iK();i5(E.current,v),y("stopped")}}return(0,s.useEffect)(()=>()=>j(x.current),[C]),{Text:()=>(function e(t,n=""){var r;if(!o||!function(e,t){if(!(null==t?void 0:t.startsWith(e)))return!1;if(e){let n=t.split("-"),r=e.split("-");for(let e=0;e<r.length;e++)if(n[e]!==r[e])return!1}return!0}(n,null==w?void 0:w.index))return t;if(Array.isArray(t))return t.map((t,r)=>e(t,iY(n,r)));if((0,s.isValidElement)(t))return(0,s.cloneElement)(t,{key:null!==(r=t.key)&&void 0!==r?r:Math.random()},e(t.props.children,n));if("string"==typeof t||"number"==typeof t){t=String(t);let{index:e,length:n}=w,r=t.slice(0,+e.split("-").at(-1)).length;return s.createElement("span",{key:e},t.slice(0,r),s.createElement("mark",Object.assign({},a),t.slice(r,r+n)),t.slice(r+n))}return t})(e),speechStatus:g,isInQueue:"started"===g||"queued"===g,start:function(){var e;let o=window.speechSynthesis;if(!o)return u(Error("Browser not supported! Try some other browser."));if("paused"===g)return o.resume();if("queued"===g)return;let a=new SpeechSynthesisUtterance(iX(function e(t){return"string"==typeof t?t:t.map(e).join(" ")+" "}(k)));if(a.pitch=t,a.rate=n,a.volume=r,l&&(a.lang=l),i){Array.isArray(i)||(i=[i]);let e=o.getVoices();for(let t=0;t<i.length;t++){let n=i[t],r=e.find(e=>e.voiceURI===n);if(r){a.voice=r;break}}}let s=e=>{window.removeEventListener("beforeunload",i1),y("stopped"),b(null),a.onstart=null,a.onresume=null,a.onpause=null,a.onend=null,a.onerror=null,a.onboundary=null,i5(a,v),i4(),null==m||m(e)};if(a.onstart=e=>{window.addEventListener("beforeunload",i1),y("started"),null==d||d(e)},a.onresume=e=>{y("started"),null==f||f(e)},a.onpause=e=>{y("paused"),null==p||p(e)},a.onend=s,a.onerror=s,a.onboundary=e=>{var t;let n;b({index:(t=e.charIndex,n=0,function e(r,l=""){if("string"==typeof r){let e=t-n;return(n+=r.length+1)>t?iY(l,e):""}for(let t=0;t<r.length;t++){let n=e(r[t],t);if(n)return iY(l,n)}return n++,""}(k)),length:e.charLength}),null==h||h(e)},c||i0(),e={utterance:a,setSpeechStatus:y},iJ.push(e),i2(v),o.speaking){if(c&&"started"!==g)return E.current=a,y("queued");iK()}else i4();y("started")},pause:function(){var e;if("started"===g)return null===(e=window.speechSynthesis)||void 0===e?void 0:e.pause();"queued"===g&&j()},stop:()=>j()}}({text:f});return(0,a.jsxs)("div",{children:["user"===e.role&&a.jsx("div",{className:(0,h.cn)("w-full",0===t?"pt-16":"pt-8"),children:a.jsx("h2",{className:"text-white font-medium text-3xl lg:w-9/12",children:e.content})}),"assistant"===e.role&&(0,a.jsxs)("div",{className:"flex flex-col space-y-9 lg:space-y-0 lg:flex-row lg:justify-between lg:space-x-9",children:[(0,a.jsxs)("div",{ref:l,className:"flex flex-col space-y-6 w-full lg:w-9/12",children:[e.sources&&e.sources.length>0&&(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[a.jsx(nk,{className:"text-white",size:20}),a.jsx("h3",{className:"text-white font-medium text-xl",children:"Sources"})]}),a.jsx(li,{sources:e.sources})]}),(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[a.jsx(nC,{className:(0,h.cn)("text-white",i&&r?"animate-spin":"animate-none"),size:20}),a.jsx("h3",{className:"text-white font-medium text-xl",children:"Answer"})]}),a.jsx(r6,{className:"prose max-w-none break-words prose-invert prose-p:leading-relaxed prose-pre:p-0 text-white text-sm md:text-base font-medium",children:u}),r&&i?null:(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between w-full text-white py-4 -mx-2",children:[a.jsx("div",{className:"flex flex-row items-center space-x-1",children:a.jsx(lr,{rewrite:o,messageId:e.id})}),(0,a.jsxs)("div",{className:"flex flex-row items-center space-x-1",children:[a.jsx(lt,{initialMessage:e.content,message:e}),a.jsx("button",{onClick:()=>{"started"===m?g():v()},className:"p-2 text-white/70 rounded-xl hover:bg-[#1c1c1c] transition duration-200 hover:text-white",children:"started"===m?a.jsx(nj,{size:18}):a.jsx(nS,{size:18})})]})]}),i&&e.suggestions&&e.suggestions.length>0&&"assistant"===e.role&&!r&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"h-px w-full bg-[#1C1C1C]"}),(0,a.jsxs)("div",{className:"flex flex-col space-y-3 text-white",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center space-x-2 mt-4",children:[a.jsx(nN,{}),a.jsx("h3",{className:"text-xl font-medium",children:"Related"})]}),a.jsx("div",{className:"flex flex-col space-y-3",children:e.suggestions.map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-col space-y-3 text-sm",children:[a.jsx("div",{className:"h-px w-full bg-[#1C1C1C]"}),(0,a.jsxs)("div",{onClick:()=>{c(e)},className:"cursor-pointer flex flex-row justify-between font-medium space-x-2 items-center",children:[a.jsx("p",{className:"transition duration-200 hover:text-[#24A0ED]",children:e}),a.jsx(nM,{size:20,className:"text-[#24A0ED]"})]})]},t))})]})]})]})]}),(0,a.jsxs)("div",{className:"lg:sticky lg:top-20 flex flex-col items-center space-y-3 w-full lg:w-3/12 z-30 h-full pb-4",children:[a.jsx(iZ,{query:n[t-1].content,chat_history:n.slice(0,t-1)}),a.jsx(iG,{chat_history:n.slice(0,t-1),query:n[t-1].content})]})]})]})},i9=()=>(0,a.jsxs)("div",{className:"flex flex-col space-y-2 w-full lg:w-9/12 bg-[#111111] animate-pulse rounded-lg p-3",children:[a.jsx("div",{className:"h-2 rounded-full w-full bg-[#1c1c1c]"}),a.jsx("div",{className:"h-2 rounded-full w-9/12 bg-[#1c1c1c]"}),a.jsx("div",{className:"h-2 rounded-full w-10/12 bg-[#1c1c1c]"})]}),i7=({loading:e,messages:t,sendMessage:n,messageAppeared:r,rewrite:l})=>{let[i,o]=(0,s.useState)(0),c=(0,s.useRef)(null),u=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e=()=>{c.current&&o(c.current.scrollWidth)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),(0,s.useEffect)(()=>{u.current?.scrollIntoView({behavior:"smooth"}),1===t.length&&(document.title=`${t[0].content.substring(0,30)} - NexusAI`)},[t]),(0,a.jsxs)("div",{className:"flex flex-col space-y-6 pt-8 pb-44 lg:pb-32 sm:mx-4 md:mx-8",children:[t.map((r,i)=>{let o=i===t.length-1;return(0,a.jsxs)(s.Fragment,{children:[a.jsx(i3,{message:r,messageIndex:i,history:t,loading:e,dividerRef:o?c:void 0,isLast:o,rewrite:l,sendMessage:n},i),!o&&"assistant"===r.role&&a.jsx("div",{className:"h-px w-full bg-[#1C1C1C]"})]},r.id)}),e&&!r&&a.jsx(i9,{}),a.jsx("div",{ref:u,className:"h-0"}),i>0&&a.jsx("div",{className:"bottom-24 lg:bottom-10 fixed z-40",style:{width:i},children:a.jsx(nE,{loading:e,sendMessage:n})})]})},i6=(0,d.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),i8=({sendMessage:e,focusMode:t,setFocusMode:n})=>{let[r,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)("");return a.jsx("form",{onSubmit:t=>{t.preventDefault(),e(i),o("")},onKeyDown:t=>{"Enter"!==t.key||t.shiftKey||(t.preventDefault(),e(i),o(""))},className:"w-full",children:(0,a.jsxs)("div",{className:"flex flex-col bg-[#111111] px-5 pt-5 pb-2 rounded-lg w-full border border-[#1C1C1C]",children:[a.jsx(k,{value:i,onChange:e=>o(e.target.value),minRows:2,className:"bg-transparent placeholder:text-white/50 text-sm text-white resize-none focus:outline-none w-full max-h-24 lg:max-h-36 xl:max-h-48",placeholder:"Ask anything..."}),(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between mt-4",children:[a.jsx("div",{className:"flex flex-row items-center space-x-1 -mx-2",children:a.jsx(nw,{focusMode:t,setFocusMode:n})}),(0,a.jsxs)("div",{className:"flex flex-row items-center space-x-4 -mx-2",children:[a.jsx(nb,{copilotEnabled:r,setCopilotEnabled:l}),a.jsx("button",{disabled:0===i.trim().length,className:"bg-[#24A0ED] text-white disabled:text-white/50 hover:bg-opacity-85 transition duration-100 disabled:bg-[#ececec21] rounded-full p-2",children:a.jsx(i6,{className:"bg-background",size:17})})]})]})]})})},oe=({sendMessage:e,focusMode:t,setFocusMode:n})=>(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen max-w-screen-sm mx-auto p-2 space-y-8",children:[a.jsx("h2",{className:"text-white/70 text-3xl font-medium -mt-8",children:"Research begins here."}),a.jsx(i8,{sendMessage:e,focusMode:t,setFocusMode:n})]});var ot=n(327),on=n(2480);let or=async e=>{let t=localStorage.getItem("chatModel"),n=localStorage.getItem("chatModelProvider"),r=await fetch(`${process.env.NEXT_PUBLIC_API_URL}/suggestions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_history:e,chat_model:t,chat_model_provider:n})});return(await r.json()).suggestions},ol=()=>{let e=(0,on.useSearchParams)().get("q"),[t,n]=(0,s.useState)(1);var r={};let[l,i]=(0,s.useState)([]),[o,c]=(0,s.useState)([]),u=(0,s.useRef)([]),[d,f]=(0,s.useState)(!1),[p,m]=(0,s.useState)(!1),[h,g]=(0,s.useState)("webSearch");(0,s.useEffect)(()=>{u.current=o},[o]);let x=async e=>{let t;if(d)return;f(!0),m(!1);let n="",o=!1;r?.send(JSON.stringify({type:"message",content:e,focusMode:h,history:[...l,["human",e]]})),c(t=>[...t,{content:e,id:Math.random().toString(36).substring(7),role:"user",createdAt:new Date}]);let a=async l=>{let s=JSON.parse(l.data);if("error"===s.type){ot.A.error(s.data),f(!1);return}if("sources"===s.type&&(t=s.data,o||(c(e=>[...e,{content:"",id:s.messageId,role:"assistant",sources:t,createdAt:new Date}]),o=!0),m(!0)),"message"===s.type&&(o||(c(e=>[...e,{content:s.data,id:s.messageId,role:"assistant",sources:t,createdAt:new Date}]),o=!0),c(e=>e.map(e=>e.id===s.messageId?{...e,content:e.content+s.data}:e)),n+=s.data,m(!0)),"messageEnd"===s.type){i(t=>[...t,["human",e],["assistant",n]]),r?.removeEventListener("message",a),f(!1);let t=u.current[u.current.length-1];if("assistant"===t.role&&t.sources&&t.sources.length>0&&!t.suggestions){let e=await or(u.current);c(n=>n.map(n=>n.id===t.id?{...n,suggestions:e}:n))}}};r?.addEventListener("message",a)};return(0,s.useEffect)(()=>{t&&e&&x(e)},[t,e]),t?a.jsx("div",{children:o.length>0?(0,a.jsxs)(a.Fragment,{children:[a.jsx(v,{messages:o}),a.jsx(i7,{loading:d,messages:o,sendMessage:x,messageAppeared:p,rewrite:e=>{let t=o.findIndex(t=>t.id===e);if(-1===t)return;let n=o[t-1];c(e=>[...e.slice(0,o.length>2?t-1:0)]),i(e=>[...e.slice(0,o.length>2?t-1:0)]),x(n.content)}})]}):a.jsx(oe,{sendMessage:x,focusMode:h,setFocusMode:g})}):a.jsx("div",{className:"flex flex-row items-center justify-center min-h-screen",children:(0,a.jsxs)("svg",{"aria-hidden":"true",className:"w-8 h-8 text-[#202020] animate-spin fill-[#ffffff3b]",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),a.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})})}},2779:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d,metadata:()=>u});var r=n(3859),l=n(3215);let i=(0,l.createProxy)(String.raw`/home/alex/nexusaisearch.com/ui/components/ChatWindow.tsx`),{__esModule:o,$$typeof:a}=i;i.default;let s=(0,l.createProxy)(String.raw`/home/alex/nexusaisearch.com/ui/components/ChatWindow.tsx#default`);var c=n(2003);let u={title:"Chat - NexusAI",description:"Chat with the internet, chat with NexusAI."},d=()=>r.jsx("div",{children:r.jsx(c.Suspense,{children:r.jsx(s,{})})})},8287:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(3324);let l=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},7264:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[558,46,324,983],()=>n(1990));module.exports=r})();